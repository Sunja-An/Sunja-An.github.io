import{_ as B,p as D,h as d,c as t,o as h,j as i,e as r,F as E,B as g,t as k,N as m,n as b}from"./framework.CBg6nt2o.js";const v={class:"post-list"},S=["href"],f={class:"post-content"},T={class:"post-title"},R={key:0,class:"post-description"},x={class:"post-footer"},P={key:0,class:"post-category"},q={class:"category-name"},M={class:"post-date"},I={key:0,class:"pagination"},w=["disabled"],G={class:"page-numbers"},j=["onClick"],_=["disabled"],L={__name:"PostList",props:{posts:{type:Array,required:!0},categories:{type:Array,required:!1,default:()=>[]},pageSize:{type:Number,default:10}},setup(y){const l=y,a=D(1),e=d(()=>Math.ceil(l.posts.length/l.pageSize)),o=d(()=>{const n=(a.value-1)*l.pageSize,p=n+l.pageSize;return l.posts.slice(n,p)});function F(){a.value<e.value&&(a.value++,window.scrollTo({top:0,behavior:"smooth"}))}function c(){a.value>1&&(a.value--,window.scrollTo({top:0,behavior:"smooth"}))}function C(n){a.value=n,window.scrollTo({top:0,behavior:"smooth"})}function u(n){return new Date(n).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}function A(n){const p=l.categories.find(s=>s.name===n);return p?p.color:"var(--vp-c-text-3)"}return(n,p)=>(h(),t(E,null,[i("div",v,[(h(!0),t(E,null,g(o.value,s=>(h(),t("article",{key:s.url,class:"post-card"},[i("a",{href:s.url,class:"post-link"},[i("div",f,[i("h3",T,k(s.frontmatter.title),1),s.frontmatter.description?(h(),t("p",R,k(s.frontmatter.description),1)):r("",!0)]),i("div",x,[s.frontmatter.categories&&s.frontmatter.categories[0]?(h(),t("div",P,[i("span",{class:"category-dot",style:m({backgroundColor:A(s.frontmatter.categories[0])})},null,4),i("span",q,k(s.frontmatter.categories[0]),1)])):r("",!0),i("span",M,k(u(s.frontmatter.date)),1)])],8,S)]))),128))]),e.value>1?(h(),t("div",I,[i("button",{onClick:c,disabled:a.value===1,class:"pagination-btn"}," Previous ",8,w),i("div",G,[(h(!0),t(E,null,g(e.value,s=>(h(),t("button",{key:s,onClick:O=>C(s),class:b(["page-number",{active:a.value===s}])},k(s),11,j))),128))]),i("button",{onClick:F,disabled:a.value===e.value,class:"pagination-btn"}," Next ",8,_)])):r("",!0)],64))}},J=B(L,[["__scopeId","data-v-fc003ac3"]]),z=JSON.parse(`[{"html":"<h1 id=\\"github-env-file-á„‰á…¥á†¯á„Œá…¥á†¼\\" tabindex=\\"-1\\">Github ENV FILE ì„¤ì • <a class=\\"header-anchor\\" href=\\"#github-env-file-á„‰á…¥á†¯á„Œá…¥á†¼\\" aria-label=\\"Permalink to &quot;Github ENV FILE ì„¤ì •&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>ë‚˜ì˜ ë°°í¬ í™˜ê²½ì—ì„œ ENV íŒŒì¼ì˜ ì†ì„±ì— ëŒ€í•´ ì¼ì¼ì´ Secret ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì´ ìˆì—ˆë‹¤.</p>\\n<p>Cloudflare R2 ì— ëŒ€í•´ì„œ Secret ì„ ì„¤ì •í•˜ë ¤ê³  í•˜ë‹ˆ, secret í•˜ë‚˜í•˜ë‚˜ ì„¤ì •í•´ì•¼ ë˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆì–´, ì´ ê¸°íšŒë¥¼ í‹ˆíƒ€ ë¡œì§ì„ ê°œì„ í•˜ë ¤ í¬ìŠ¤íŒ…ì„ í•œë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>ë‚˜ì˜ ë¡œì§ì€ ì•„ë˜ì²˜ëŸ¼ Env ì „ì²´ë¥¼ ë³µì‚¬í•˜ì—¬, íŒŒì¼ ìì²´ë¥¼ ë³µì‚¬í•´ì„œ GCP ì— ì—…ë¡œë“œë¥¼ í•˜ëŠ” ê²ƒì´ë‹¤.</p>\\n<div class=\\"language-bash vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">bash</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Deploy</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> to</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> GCP</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Compute</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Engine</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">on:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">  push:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    branches:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> main</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    paths:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'docker-compose.yaml'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'deploy.sh'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'mysql/init/**'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> '.github/workflows/deploy-gcp.yml'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">  workflow_dispatch:</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">jobs</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">  deploy:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Deploy</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Docker</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Compose</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> to</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> GCP</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> VM</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    runs-on:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ubuntu-latest</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    if: github.event_name == </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">'push'</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> ||</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> github.event_name</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ==</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'workflow_dispatch'</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    steps:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Checkout</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> code</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> actions/checkout@v4</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Copy</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> files</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> to</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> VM</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> appleboy/scp-action@v0.1.7</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        with:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          host:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_HOST }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          username:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_USER }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          key:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_SSH_KEY }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">          source</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"docker-compose.yaml,deploy.sh,Makefile,mysql/init\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          target:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"~/app\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          overwrite:</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> true</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Execute</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> SSH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> command</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> to</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> deploy</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> appleboy/ssh-action@v1.0.3</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        env:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          GHCR_PAT:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GHCR_PAT }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          GITHUB_ACTOR:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ github.actor }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          REPO_URL:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"https://\${{ </span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">github</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">.</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">actor</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> }}:\${{ </span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">secrets</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">.</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">GHCR_PAT</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> }}@github.com/\${{ </span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">github</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">.</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">repository</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> }}.git\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          ENV_FILE:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.ENV_FILE }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        with:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          host:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_HOST }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          username:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_USER }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          key:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.GCP_VM_PROD_SSH_KEY }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          port:</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 22</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          envs:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> GHCR_PAT,GITHUB_ACTOR,REPO_URL,ENV_FILE</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          script:</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> |</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> -d</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"GAMERS-INFRA\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ]; </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">              echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"ğŸ“‚ Repository not found. Cloning...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">              git</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> clone</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> $REPO_URL </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">GAMERS-INFRA</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            fi</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            cd</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> GAMERS-INFRA</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">            git</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> remote</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> set-url</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> origin</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> $REPO_URL</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">            git</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> pull</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> origin</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> main</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"ğŸ“ Generating .env file...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">$ENV_FILE</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> ></span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> .env</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"âœ… .env file created.\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> [ </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-z</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">$GHCR_PAT</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ]; </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">              echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"âŒ Error: GHCR_PAT secret is empty.\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">              exit</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            fi</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"ğŸ” Logging in to GHCR...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">            echo</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">$GHCR_PAT</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> |</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> docker</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> login</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ghcr.io</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> -u</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">$GITHUB_ACTOR</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> --password-stdin</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">            chmod</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> +x</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> deploy.sh</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">            ./deploy.sh</span></span></code></pre>\\n</div><p>ìœ„ì˜ ë‚´ìš©ì„ ë³´ë©´ Secrets ì— env ì „ì²´ì˜ ë‚´ìš©ì´ ë“¤ì–´ê°€ë„ë¡ ì„¤ì •ì„ í•´ë†¨ë‹¤.</p>\\n<p>í•´ë‹¹ ì‘ì—…ì„ í†µí•´ì„œ ë‚˜ì˜ secret ë³€ìˆ˜ì˜ ê°œìˆ˜ëŠ” 41ê°œì—ì„œ ì´ 5ê°œë¡œ ì¤„ì–´ë“œëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤.</p>\\n<h2 id=\\"á„€á…§á†¯á„…á…©á†«\\" tabindex=\\"-1\\">ê²°ë¡  <a class=\\"header-anchor\\" href=\\"#á„€á…§á†¯á„…á…©á†«\\" aria-label=\\"Permalink to &quot;ê²°ë¡ &quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>GCP ì—ë„ secert ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Tool ì´ ìˆê³ , SOPS ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ ë‚˜ì˜ í”„ë¡œì íŠ¸ í¬ê¸°ì— ë”°ë¼ì„œ ENV íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬, GCP ì—ì„œ ê´€ë¦¬í•˜ëŠ”ê²Œ í¸í•˜ë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆì—ëŠ” í•´ë‹¹ ë°©ì‹ì„ ì´ìš©í•˜ì˜€ë‹¤.</p>\\n<p>í”„ë¡œì íŠ¸ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©´ GCP ì—ì„œ secret ì„ ê´€ë¦¬í•˜ê±°ë‚˜, SOPS ë¡œ ê´€ë¦¬í•´ë³´ëŠ” ê²½í—˜ì„ í•´ë³´ê³ ì í•œë‹¤.</p>\\n","frontmatter":{"title":"Github ENV FILE ì„¤ì •","description":"Github Actionsì—ì„œ ENV íŒŒì¼ì„ Secretìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ë°°í¬ í™˜ê²½ì„ ê°œì„ í•œ ê²½í—˜","date":"2026-02-03T08:45:32.000Z","categories":["develop"],"tags":["Github Actions","CI/CD","ENV"]},"excerpt":"<h1 id=\\"github-env-file-á„‰á…¥á†¯á„Œá…¥á†¼\\" tabindex=\\"-1\\">Github ENV FILE ì„¤ì • <a class=\\"header-anchor\\" href=\\"#github-env-file-á„‰á…¥á†¯á„Œá…¥á†¼\\" aria-label=\\"Permalink to &quot;Github ENV FILE ì„¤ì •&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n","url":"/posts/github-env-file-setup/"},{"html":"<h1 id=\\"go-goroutineá„‹á…¦-á„ƒá…¢á„’á…¢-á„€á…©á„á…¡á†¯-1\\" tabindex=\\"-1\\">[Go] GoRoutineì— ëŒ€í•´ ê³ ì°° (1) <a class=\\"header-anchor\\" href=\\"#go-goroutineá„‹á…¦-á„ƒá…¢á„’á…¢-á„€á…©á„á…¡á†¯-1\\" aria-label=\\"Permalink to &quot;[Go] GoRoutineì— ëŒ€í•´ ê³ ì°° (1)&quot;\\">&ZeroWidthSpace;</a></h1>\\n<hr>\\n<p><em>This is the post who is studying Go Language.</em></p>\\n<p><em>So, If you find something wrong point, please tell me or comment this post!</em></p>\\n<h2 id=\\"go-routine-á„‹á…µ-á„‹á…«-á„‰á…¦á„‰á…¡á†¼á„‹á…¦-á„‚á…¡á„‹á…©á„€á…¦-á„ƒá…¬á„‹á…¥á†»á„‹á…³á†¯á„á…¡\\" tabindex=\\"-1\\">Go Routine ì´ ì™œ ì„¸ìƒì— ë‚˜ì˜¤ê²Œ ë˜ì—ˆì„ê¹Œ? <a class=\\"header-anchor\\" href=\\"#go-routine-á„‹á…µ-á„‹á…«-á„‰á…¦á„‰á…¡á†¼á„‹á…¦-á„‚á…¡á„‹á…©á„€á…¦-á„ƒá…¬á„‹á…¥á†»á„‹á…³á†¯á„á…¡\\" aria-label=\\"Permalink to &quot;Go Routine ì´ ì™œ ì„¸ìƒì— ë‚˜ì˜¤ê²Œ ë˜ì—ˆì„ê¹Œ?&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p><img src=\\"/images/go/gotools.png\\" alt=\\"VS Code Go Tools Extension\\"></p>\\n<p>Go lang ì„ ì‚¬ìš©í•˜ë©´ì„œ, Go Routine ì˜ ë™ì‘ë°©ì‹ì— ëŒ€í•´ì„œ ì œëŒ€ë¡œ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœì—ì„œ Go í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤.</p>\\n<p>â€œë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ Go Routine ì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì•„!â€ ë¼ê³  ë§í•´ì™”ì§€ë§Œ, ì •ì‘ ë‚˜ëŠ” ì™œ ì¢‹ì€ì§€ì— ëŒ€í•´ì„œ ëª¨ë¥¸ì±„ë¡œ Go í‚¤ì›Œë“œë¥¼ ë‚œë°œí•˜ê³  ìˆì—ˆë‹¤â€¦</p>\\n<p>ê·¸ë˜ì„œ GAMERS í”„ë¡œì íŠ¸ê°€ ì–´ëŠì •ë„ ì™„ì„±ì´ ë˜ì–´ê°€ê³  ìˆìœ¼ë‹ˆ, ì—¬ìœ ê°€ ìƒê¹€ìœ¼ë¡œì¨ ì´ëŸ° í¬ìŠ¤íŒ…ì„ ì¡°ê¸ˆ ì‘ì„±í•´ë³´ê³ ì í•œë‹¤.</p>\\n<p>ìš°ì„  ì†Œì œëª©ëŒ€ë¡œ Go Routine ì´ ì™œ ì„¸ìƒì— ë‚˜ì˜¤ê²Œ ë˜ì—ˆëŠ”ê°€ì´ë‹¤.</p>\\n<p>í˜„ëŒ€ Computer System ì€ ë™ì‹œì„±ì„ ì–¼ë§ˆë‚˜ ì˜ ì²˜ë¦¬í•˜ëŠ”ê°€ì— ì¤‘ì ì„ ë‘ê³  ìˆë‹¤.</p>\\n<p>ê·¸ë˜ì„œ ê¸°ì¡´ OS ì˜ Thread ë¥¼ í†µí•´ì„œ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ í•˜ìë‹ˆ, Thread Context Switching ë¹„ìš©ì´ ë“œëŠ” ê²ƒì´ ë§ˆìŒì— ì•ˆ ë“¤ì—ˆë˜ ê²ƒ.</p>\\n<p>ê¸°ì¡´ OS ì˜ Thread ë“¤ì— ëŒ€í•´ì„œ Context Switching ì„ ì§„í–‰í•˜ê²Œ ë˜ë©´, Kernel ì´ ê°œì…ì„ í•˜ê²Œ ë˜ëŠ”ë°, ì´ ì‘ì—…ì´ ìƒê°ë³´ë‹¤ ë¬´ê²ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ë˜í•œ OS Thread ë¥¼ ë§Œë“¤ê²Œ ë˜ë©´, ë³´í†µ 1~2MB ì˜ ê³ ì • Stack Memory ë¥¼ ì°¨ì§€í•˜ê²Œ ë˜ëŠ”ë°, 10,000ëª…ì˜ ì ‘ì†ìë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ 10,000ê°œì˜ Thread ë¥¼ ë§Œë“¤ ê²½ìš°, ë²Œì¨ 10~20GB ì˜ Memory ë¥¼ ê°€ì ¸ê°€ê²Œ ëœë‹¤.</p>\\n<ul>\\n<li>ì°¸ê³ ë¡œ í•„ìì˜ Desktop Memory ì„±ëŠ¥ì€ 16GB Memory ì´ë‹¤.</li>\\n</ul>\\n<p>ê·¸ë ‡ë‹¤ë³´ë‹ˆ ê°œë°œìë“¤ì€ ë” ì‘ê³ , ë” ë¹ ë¥¸ Model ì´ ì—†ì„ê¹Œ? ë¥¼ ê³ ë¯¼í•˜ë‹¤ê°€ Go Routine ì„ ë§Œë“¤ê²Œ ëœ ê²ƒ.</p>\\n<p>ì•„ì£¼ ì‘ì€ Memory ( 2KB ) ë¡œ ì‹œì‘í•˜ê³ , Go Runtime ì´ ìì²´ì ìœ¼ë¡œ Scheduling í•˜ëŠ” Go Routine ì„ ë§ì´ë‹¤.</p>\\n<p>ê·¸ëŸ¬ë©´ ì™œ ì´ë ‡ê²Œ ì‘ê³ , ì–´ë–»ê²Œ ìì²´ì ìœ¼ë¡œ Scheduling ì„ í• ê¹Œ? ë¼ëŠ” ì˜ë¬¸ì ì´ ìƒê²¼ë‹¤.</p>\\n<div class=\\"tip custom-block\\"><p class=\\"custom-block-title\\">ğŸ’¡ GoRoutine ì´ ë‚˜ì˜¨ ê³„ê¸°</p>\\n<ul>\\n<li>ì•„ë˜ì˜ ë¶€ë¶„ë“¤ì„ ê°œì„ í•˜ê¸° ìœ„í•´ì„œ!\\n<ul>\\n<li>OS Thread ëŠ” ê³ ì • Stack Memory 1~2MB ì˜ ê³µê°„ì„ ì°¨ì§€í•œë‹¤.</li>\\n<li>Kernel ì´ ê°œì…í•˜ëŠ” context switching ë¹„ìš©ì´ ë„ˆë¬´ ë¹„ì‹¸ë‹¤.</li>\\n</ul>\\n</li>\\n</ul>\\n</div>\\n<h2 id=\\"go-routine-á„‹á…³á†«-á„‹á…«-á„‹á…µá„…á…¥á‡‚á„€á…¦-á„Œá…¡á†¨á„‹á…³á†«á„€á…¡\\" tabindex=\\"-1\\">Go Routine ì€ ì™œ ì´ë ‡ê²Œ ì‘ì€ê°€? <a class=\\"header-anchor\\" href=\\"#go-routine-á„‹á…³á†«-á„‹á…«-á„‹á…µá„…á…¥á‡‚á„€á…¦-á„Œá…¡á†¨á„‹á…³á†«á„€á…¡\\" aria-label=\\"Permalink to &quot;Go Routine ì€ ì™œ ì´ë ‡ê²Œ ì‘ì€ê°€?&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>Go Routine ì˜ Thread ëŠ” 2KB ë¡œ êµ‰ì¥íˆ ì‘ì€ í¸ì— ì†í•œë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ ì™œ ì´ë ‡ê²Œ ì‘ì„ ìˆ˜ ìˆëŠ”ê±¸ê¹Œ?</p>\\n<p>í•´ë‹¹ Thread ì— ì‘ì—…ì„ ìœ„ì„í•  ìˆ˜ ìˆëŠ”ê±¸ê¹Œ? ë¼ëŠ” ì˜ë¬¸ì´ ë“œëŠ”ë°, Go Routine ì€ ê°€ë³€ Thread ë¡œì¨ ë™ì‘ì„ í•œë‹¤.</p>\\n<p>Go Routine ì˜ ê²½ìš°, Go ì˜ Runtime ì´ ìƒì‹œ ê°œì…ì„ í•˜ëŠ”ë°, í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ â€œì§€ê¸ˆ Stack ê³µê°„ìœ¼ë¡œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‚˜?â€ ì— ëŒ€í•´ì„œ íŒë‹¨ì„ í•œ í›„, í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.</p>\\n<p>ì´ë•Œ ê³µê°„ì´ ë¶€ì¡±í•˜ë‹¤ë©´, í˜„ì¬ Stack ì— ì°¨ì§€í•œ ê³µê°„ë³´ë‹¤ 2ë°° ë” í° ê³µê°„ì„ ë§Œë“¤ì–´ì„œ, í•´ë‹¹ ê³µê°„ìœ¼ë¡œ Data ë¥¼ ë³µì‚¬í•œë‹¤.</p>\\n<p>ë­”ê°€ ì´ë ‡ê²Œ ìˆœì„œì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ì„ ë•Œ, ì²˜ìŒ ë“  ìƒê°ì€ â€œì´ê²Œ ì–´ë–»ê²Œ ê°€ëŠ¥í•œê±°ì§€..?â€ ì˜€ë‹¤.</p>\\n<p>ë”°ë¼ì„œ ì´ ì‘ì—…ì— ëŒ€í•´ì„œ ì¡°ê¸ˆ ë” ì´í•´ë¥¼ í•´ë³´ê³  ì‹¶ì—ˆë‹¤.</p>\\n<p>GoLangì´ ê°€ë³€ Thread ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ìœ„í•´ì„œëŠ” Go ì˜ Runtime ì´ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ ì¤‘ì— ìˆì–´ì„œ ê³„ì† ê°œì…ì„ í•œë‹¤ëŠ” ì ì´ë‹¤.</p>\\n<p>Go ì˜ Compiler ëŠ” í•¨ìˆ˜ê°€ ì‹œì‘ë˜ëŠ” ë¶€ë¶„ë§ˆë‹¤ Preamble ì´ë¼ëŠ” ì•„ì£¼ ì§§ì€ Code ë¥¼ ì‚½ì…í•œë‹¤.</p>\\n<p>Preamble â†’ ì´ ì½”ë“œê°€ Stack ì— ê³µê°„ì´ ì¶©ë¶„í•œê°€ë¥¼ Check í•˜ëŠ” ê²€ì¦ í•¨ìˆ˜ì´ë‹¤.</p>\\n<p>ë˜í•œ í•´ë‹¹ Code ê°€ CPU ì˜ Stack Pointer ì™€ Runtime ì´ ê´€ë¦¬í•˜ê³  ìˆëŠ” Stack Guard ê°’ì„ ë¹„êµí•˜ëŠ” ì•„ì£¼ ë¹ ë¥¸ ì—°ì‚°ì´ ëœë‹¤!</p>\\n<blockquote>\\n<p>ì—¬ê¸°ì—ì„œ Stack Guard ë€?</p>\\n</blockquote>\\n<p>Preamble ì´ë¼ëŠ” Code ë¥¼ ì‚½ì…í•  ë•Œ, ë¹„êµ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ” í•œê³„ì¹˜ address ë‹¤.</p>\\n<p>Go Routine ì˜ Meta Data ì— ì €ì¥ë˜ì–´ìˆë‹¤!! ( ë‚˜ì¤‘ì— Meta Data ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³¼ ê²ƒ )</p>\\n<p>ë”°ë¼ì„œ Preamble ì´ í•´ë‹¹ ê°’ì„ ë³´ê³ , í•œê³„ì¹˜ì¸ì§€ í™•ì¸ì„ í•˜ëŠ” ê²€ì¦ ì½”ë“œì¸ ê²ƒì´ë‹¤.</p>\\n<p>ì´ë•Œ ê³µê°„ì´ ë§Œì•½ ë¶€ì¡±í•˜ë‹¤ê³  íŒë‹¨ì´ ë˜ë©´, Runtime ì€ <strong><code>runtime.newstack</code></strong> ì„ í˜¸ì¶œí•œë‹¤.</p>\\n<p>ì´í›„ ì•„ë˜ì˜ ê³¼ì •ì„ ê±°ì¹˜ê²Œ ë˜ëŠ”ë°,</p>\\n<ol>\\n<li>\\n<p>ê³µê°„ì„ 2ë°° í¬ê¸°ë¡œ ì°½ì¶œ</p>\\n</li>\\n<li>\\n<p>ê¸°ì¡´ Data ë¥¼ ìƒˆ ê³µê°„ìœ¼ë¡œ ë³µì‚¬</p>\\n</li>\\n<li>\\n<p>Go Routine ì´ ìƒˆë¡œìš´ Data ê°€ ë‹´ê²¨ìˆëŠ” ê³µê°„ì— ëŒ€í•´ì„œ Pointer ë¥¼ Update</p>\\n<p><img src=\\"/images/go/GoDynamicThread.png\\" alt=\\"Go Dynamic Thread\\"></p>\\n</li>\\n</ol>\\n<p>ì´ë ‡ê²Œ ë˜ë©´ ê¸°ì¡´ Data ê°€ ë‹´ê²¨ìˆë˜ ê³µê°„ì˜ Pointer ëŠ” ì–´ë–»ê²Œ ë ê¹Œ??</p>\\n<p>ì´ë•Œ Go Runtime ì€ Stack Adjustment ì´ë¼ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.</p>\\n<p>Go ëŠ” Stack Map ì´ë¼ëŠ” ì‹¤í–‰ ì¤‘ì—ì„œ Stack ì˜ ì–´ëŠ ìœ„ì¹˜ì— Pointer ê°€ ì¡´ì¬í•˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ì •í™•í•˜ê²Œ ì•Œ ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ê°€ ì¡´ì¬í•œë‹¤.</p>\\n<p>ê·¸ë˜ì„œ ê¸°ì¡´ Data ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë˜ Pointer ì— ëŒ€í•´ì„œ ìˆ˜ì •ì„ í•  ë•Œì— Pointerë“¤ì„ ì°¾ì•„ë‚¸ë‹¤.</p>\\n<p>í•´ë‹¹ Pointerë“¤ì˜ ì£¼ì†Œì— ì´ì‚¬í•œ ê±°ë¦¬ ( Offset ) ë§Œí¼ì˜ ê±°ë¦¬ë¥¼ ë”í•´ì„œ, New Stack ì˜ ì •í™•í•œ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ê²Œ ìˆ˜ì •!</p>\\n<p>ì´ë ‡ê²Œ í•´ì„œ Go ëŠ” ê°€ë³€ Thread ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</p>\\n<p>í˜„ì¬ ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” ê°€ë³€ Thread ë¥¼ ì–´ë–»ê²Œ ì¡°ì‘í•  ìˆ˜ ìˆëŠ”ê°€ì— ëŒ€í•œ í¬ìŠ¤íŒ…ì´ì—ˆë‹¤.</p>\\n<p>ë‹¤ìŒ Posting ì—ì„œëŠ” G:M:P Scheduling ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê³ ì í•œë‹¤.</p>\\n<h2 id=\\"author-contact\\" tabindex=\\"-1\\">Author Contact <a class=\\"header-anchor\\" href=\\"#author-contact\\" aria-label=\\"Permalink to &quot;Author Contact&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<ul>\\n<li>ğŸ“« <a href=\\"mailto:sunja1472@gmail.com\\" target=\\"_blank\\" rel=\\"noreferrer\\">sunja1472@gmail.com</a></li>\\n<li>ğŸ™ <a href=\\"https://www.github.com/Sunja-An\\" target=\\"_blank\\" rel=\\"noreferrer\\">GitHub</a></li>\\n</ul>\\n","frontmatter":{"title":"[Go] GoRoutineì— ëŒ€í•´ ê³ ì°° (1)","description":"GoRoutineì´ ì™œ ì„¸ìƒì— ë‚˜ì˜¤ê²Œ ë˜ì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ì™œ ì´ë ‡ê²Œ ì‘ì€ì§€ì— ëŒ€í•œ ê³ ì°°","date":"2026-02-02T11:49:06.000Z","categories":["develop","CS"],"tags":["Go","GoRoutine","CS","OS","Korean"]},"excerpt":"<h1 id=\\"go-goroutineá„‹á…¦-á„ƒá…¢á„’á…¢-á„€á…©á„á…¡á†¯-1\\" tabindex=\\"-1\\">[Go] GoRoutineì— ëŒ€í•´ ê³ ì°° (1) <a class=\\"header-anchor\\" href=\\"#go-goroutineá„‹á…¦-á„ƒá…¢á„’á…¢-á„€á…©á„á…¡á†¯-1\\" aria-label=\\"Permalink to &quot;[Go] GoRoutineì— ëŒ€í•´ ê³ ì°° (1)&quot;\\">&ZeroWidthSpace;</a></h1>\\n","url":"/posts/go-routine-consideration-1/"},{"html":"<h1 id=\\"contest-flow-á„‰á…¥á†¼á„‚á…³á†¼-á„€á…¢á„‰á…¥á†«\\" tabindex=\\"-1\\">Contest Flow ì„±ëŠ¥ ê°œì„  <a class=\\"header-anchor\\" href=\\"#contest-flow-á„‰á…¥á†¼á„‚á…³á†¼-á„€á…¢á„‰á…¥á†«\\" aria-label=\\"Permalink to &quot;Contest Flow ì„±ëŠ¥ ê°œì„ &quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>GAMERS ì„œë¹„ìŠ¤ì—ì„œ Custom Match ë¥¼ ì‹œì‘ì‹œí‚¬ ë•Œ, ì•„ë˜ì™€ ê°™ì€ Flow ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>\\n<ol>\\n<li>Contest ë¥¼ ì‹œì‘ì‹œí‚¬ë§Œí•œ ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸</li>\\n<li>í•´ë‹¹ Contest ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ìƒíƒœì— ìˆëŠ”ì§€ë¥¼ í™•ì¸</li>\\n<li>Redis ì— ìŠ¹ì¸ë˜ì–´ìˆëŠ” ì‹ ì²­ì„œë“¤ì„ ê°€ì ¸ì™€ DB ë¡œ ê°œë³„ Insert\\n<ul>\\n<li>Insert Query ì— ëŒ€í•´ì„œ Transaction ì„ ê°œë³„ë¡œ ê±¸ì–´ë†“ìŒ</li>\\n</ul>\\n</li>\\n<li>Contest Domain ì— ì„¤ì •ë˜ì–´ìˆëŠ” State Machine ì„ í†µí•´ì„œ Contest ì— ëŒ€í•œ Status Update</li>\\n<li>Redis ì— Contest ì™€ ê´€ë ¨ë˜ì–´ìˆëŠ” Application ì— ëŒ€í•´ì„œ ì‚­ì œë¥¼ í•œë‹¤.\\n<ul>\\n<li>SCAN ë°©ì‹ì„ ì‚¬ìš©</li>\\n</ul>\\n</li>\\n</ol>\\n<p><img src=\\"/images/ContestApplicationLogic.png\\" alt=\\"ContestApplicationLogic.png\\"></p>\\n<p>Start Contest ì— ëŒ€í•´ Test ë¥¼ ì§„í–‰í–ˆì„ ë•Œ, Test ì— ëŒ€í•œ ì†ë„ê°€ ë§ì´ ëŠ¦ê³  Memory ì— ëŒ€í•œ ê°‘ì‘ìŠ¤ë ˆ ì ìœ ìœ¨ì´ ë†’ì•„ì ¸, ì£¼ìš” ë¡œì§ì— ëŒ€í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•˜ë‹¤.</p>\\n<ol>\\n<li>ê°œë³„ Insert</li>\\n<li>Redis ì— ì €ì¥ë˜ì–´ìˆëŠ” Contest ê´€ë ¨ Application ì‚­ì œ</li>\\n</ol>\\n<blockquote>\\n<p>ê°œë³„ Insert Logic ( Go Benchmark ì‚¬ìš© )</p>\\n</blockquote>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count  ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>10</strong></td>\\n<td>LoopSave</td>\\n<td>0.00423</td>\\n<td>51,779</td>\\n<td>544</td>\\n</tr>\\n<tr>\\n<td><strong>50</strong></td>\\n<td>LoopSave</td>\\n<td>0.01381</td>\\n<td>250,350</td>\\n<td>2,624</td>\\n</tr>\\n<tr>\\n<td><strong>100</strong></td>\\n<td>LoopSave</td>\\n<td>0.02334</td>\\n<td>498,588</td>\\n<td>5,225</td>\\n</tr>\\n<tr>\\n<td><strong>200</strong></td>\\n<td>LoopSave</td>\\n<td>0.04244</td>\\n<td>994,826</td>\\n<td>10,425</td>\\n</tr>\\n</tbody>\\n</table>\\n<div class=\\"language-go vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">go</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// * contest_member_database_adapter.go</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> c.db.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Transaction</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">func</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">tx</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> *</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">gorm</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">DB</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">error</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\tfor</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> _, member </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> range</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> members {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t\\tif</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> member.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Validate</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> nil</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t\\t\\treturn</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> err</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\t}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t\\tif</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> tx.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Save</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(member).Error; err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> nil</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t\\t\\treturn</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> err</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\t}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\treturn</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> nil</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">})</span></span></code></pre>\\n</div><blockquote>\\n<p>Clear Applications</p>\\n</blockquote>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Noise Key</th>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time ( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.000295</td>\\n<td>14,695</td>\\n<td>282</td>\\n</tr>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.000600</td>\\n<td>29,331</td>\\n<td>553</td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.020009</td>\\n<td>63,195</td>\\n<td>1,758</td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.021694</td>\\n<td>79,632</td>\\n<td>2,242</td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.142613</td>\\n<td>445,458</td>\\n<td>10,803</td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.146344</td>\\n<td>467,877</td>\\n<td>11,629</td>\\n</tr>\\n</tbody>\\n</table>\\n<p>Contest ë¥¼ ì‹œì‘í•˜ëŠ” ê¶Œí•œì€ Contest Staff ë“¤ë°–ì— ì—†ìœ¼ë¯€ë¡œ, ì†ë„ì ì¸ ì¸¡ë©´ì€ ê°œì„ ì„ í•´ì•¼í•  ìš°ì„ ìˆœìœ„ì— ìˆì–´ì„œ ë†’ì€ ë¶€ë¶„ì€ ì•„ë‹ˆì—ˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ Memory ì ìœ ìœ¨ì— ìˆì–´ì„œ ìš´ì˜ VM ì˜ Spec ì„ í™•ì¸í•˜ì˜€ì„ ë•Œ, 1ì½”ì–´ 4GB ë¡œ ë¶€í•˜ê°€ ê±¸ë¦´ ì‹œ, 4GB ë¥¼ ì´ˆê³¼í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì˜€ë‹¤.</p>\\n<p>ë”°ë¼ì„œ Batch Insert ì™€ Redis ë‚´ì—ì„œ Application ì„ ê°€ì ¸ì˜¤ëŠ” Logic ì„ ê°œì„ í•´ì•¼ê² ë‹¤ê³  ìƒê°í•˜ì˜€ë‹¤.</p>\\n<h2 id=\\"redis-scan-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…¦-á„ƒá…¢á„’á…¡á†«-á„€á…©á„á…¡á†¯á„€á…ª-á„€á…¢á„‰á…¥á†«\\" tabindex=\\"-1\\">Redis SCAN ë°©ì‹ì— ëŒ€í•œ ê³ ì°°ê³¼ ê°œì„  <a class=\\"header-anchor\\" href=\\"#redis-scan-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…¦-á„ƒá…¢á„’á…¡á†«-á„€á…©á„á…¡á†¯á„€á…ª-á„€á…¢á„‰á…¥á†«\\" aria-label=\\"Permalink to &quot;Redis SCAN ë°©ì‹ì— ëŒ€í•œ ê³ ì°°ê³¼ ê°œì„ &quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>ê°„ë‹¨í•˜ê²Œ ìƒê°í•˜ë©´ Cursor ë¥¼ ì‚¬ìš©í•œ Pagination ì´ë¼ê³  ìƒê°í•˜ë©´ ì¢‹ë‹¤.</p>\\n<p><strong><code>Keys *</code></strong> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, Data ê°€ 1ë§Œê±´ì´ë¼ê³  ê°€ì •í•˜ì˜€ì„ ë•Œ, 1ë§Œê±´ ì¤‘ ì›í•˜ëŠ” Data ë¥¼ ì „ë¶€ ê°€ì ¸ì˜¤ëŠ” Logic ì´ë‹¤.</p>\\n<p>í•˜ì§€ë§Œ ì´ë•Œ 1ë§Œê±´ì— ëŒ€í•´ì„œ ì „ë¶€ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” Network ëŒ€ì—­í­ë„ ì‚¬ìš©í•˜ë©°, í•´ë‹¹ 1ë§Œê°œë¥¼ ë‹¤ ì°¾ê¸° ìœ„í•´ì„œ Redis ì˜ Thread ë¥¼ ì ìœ í•˜ê³  ìˆê²Œ ëœë‹¤.</p>\\n<p>ì•Œë‹¤ì‹¶ì´ Redis ëŠ” ë‹¨ì¼ Thread ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì—, ë§ì€ ì‹œê°„ Thread ì ìœ ë¥¼ í•˜ê³  ìˆëŠ” ê²ƒì€ ë‹¤ë¥¸ ì‘ì—…ì— ëŒ€í•´ì„œ ìˆ˜í–‰í•˜ê¸°ê¹Œì§€ ì‹œê°„ì´ ê±¸ë¦°ë‹¤.</p>\\n<p>ë”°ë¼ì„œ Pagination ë°©ì‹ì¸ SCAN ë°©ì‹ì´ ë‚˜ì˜¤ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\\n<p>Cursor ë¥¼ ì‚¬ìš©í•˜ì—¬, Redis ê°€ ë°ì´í„°ì˜ ì¼ë¶€ë§Œ ê°€ì ¸ì˜¤ê³ , ì¶”í›„ Cursor ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ ìš°ë¦¬ Service ì—ì„œ í•´ë‹¹ ë°©ì‹ì´ ì›í•˜ëŠ” Data ë¥¼ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ Cursor ë¥¼ ê³„ì†í•´ì„œ ì—…ë°ì´íŠ¸í•˜ì—¬ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì´ ëœë‹¤.</p>\\n<p>ì•„ë˜ì˜ í”Œë¡œìš°ë¥¼ ì°¸ê³ í•´ì£¼ë©´ ì´í•´í•˜ê¸° ì¢‹ì„ ê²ƒì´ë‹¤.</p>\\n<ol>\\n<li>Memory ì—ì„œ Any Key ì— ëŒ€í•´ì„œ ì§€ì •ëœ ê°œìˆ˜ ( Count ê°œìˆ˜ ) ë§Œí¼ Cursor ì— í•´ë‹¹í•˜ëŠ” Page ì˜ ë°ì´í„°ë¥¼ Load í•´ì˜¨ë‹¤.</li>\\n<li>í•´ë‹¹ Count ê°œìˆ˜ ì¤‘, <strong><code>contest:*</code></strong> íŒ¨í„´ì— ë§ëŠ” Key ì— ëŒ€í•´ì„œ ê²€ì‚¬ë¥¼ í•œë‹¤.</li>\\n<li>ë§ëŠ” ê²ƒë§Œ Client ì—ê²Œ ì „ë‹¬í•œë‹¤.</li>\\n</ol>\\n<p>ì—¬ê¸°ì—ì„œ ìš°ë¦¬ê°€ ì°¾ëŠ” Keyê°€ 5ê°œì§€ë§Œ Noise Key ê°€ 10ë§Œê°œê°€ ìˆë‹¤ê³  ê°€ì •í•  ì‹œ, 10ë§Œê°œì˜ Noise Key ë¥¼ Load í•´ì™€ì„œ ê²€ì‚¬í•œ ë’¤, Client ì—ê²Œ ì „ë‹¬í•˜ëŠ” ì‘ì—…ì„ ë°˜ë³µí•´ì•¼í•œë‹¤.</p>\\n<p>ë”°ë¼ì„œ ì´ ë°©ì‹ì„ ê°œì„ í•  ë°©ì•ˆìœ¼ë¡œ Indexing ì„ ì ìš©í•˜ëŠ”ê±´ ì–´ë–¨ê¹Œ? ë¼ëŠ” ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\\n<p>ì´ë¥¼ ìœ„í•´ì„œëŠ” SET ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì˜³ì•˜ê³ , Contest ì— ëŒ€í•´ì„œ ì¤‘ë³µë˜ëŠ” ì‚¬ìš©ìê°€ ì°¸ê°€í•  ìˆ˜ ì—†ê¸°ì— SET ìë£Œêµ¬ì¡°ê°€ ë” ì í•©í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.</p>\\n<p>ì•„ë˜ì˜ ì½”ë“œë¥¼ ë³´ë©´ì„œ ì„¤ëª…ì„ ê³„ì†í•˜ë©´, íŠ¹ì • Contest ì— ëŒ€í•œ Key ê°’ì„ ë°›ì•„ì˜¨ë‹¤.</p>\\n<p>ê·¸ë¦¬ê³  í•´ë‹¹ Key ì— ëŒ€í•´ì„œ SET ëª…ë‹¨ì„ ì¡°íšŒí•´ì„œ ID ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ <strong><code>SMembers</code></strong> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¨ë‹¤.</p>\\n<div class=\\"language-go vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">go</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">pendingKey </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> utils.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">GetPendingKey</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(contestId)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">acceptedKey </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> utils.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">GetAcceptedKey</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(contestId)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">rejectedKey </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> utils.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">GetRejectedKey</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(contestId)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">pendingCmd </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> pipe.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">ZRange</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ctx, pendingKey, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">acceptedCmd </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> pipe.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">SMembers</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ctx, acceptedKey)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">rejectedCmd </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> pipe.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">SMembers</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ctx, rejectedKey)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">_, err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> pipe.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Exec</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ctx)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> err </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> nil</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\treturn</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> nil</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, err</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì´ë ‡ê²Œ ê°€ì ¸ì˜¨ Keyë“¤ì— ëŒ€í•´ì„œ Pipe ë¥¼ ì´ìš©í•´ 1ë²ˆì˜ Rounded-Trip ìœ¼ë¡œ Data ë¥¼ ë°›ì•„ì˜¨ë‹¤.</p>\\n<p>ë°›ì•„ì˜¨ Data ë¥¼ í†µí•´ì„œ Key ë¥¼ ì¡°í•©í•œ í›„, ì§ì ‘ì ìœ¼ë¡œ Data ì— ëŒ€í•´ì„œ ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.</p>\\n<p>ì‹¤ì œë¡œ ì´ ë°©ì‹ì„ ì‚¬ìš©í–ˆì„ ë•Œ, ì•„ë˜ì²˜ëŸ¼ Test ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤.</p>\\n<blockquote>\\n<p>Direct ì ‘ê·¼ ë°©ì‹</p>\\n</blockquote>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Noise Key</th>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time ( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>50</td>\\n<td><strong>Direct</strong></td>\\n<td>0.000298</td>\\n<td>19,467</td>\\n<td>361</td>\\n</tr>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>100</td>\\n<td><strong>Direct</strong></td>\\n<td>0.000364</td>\\n<td>37,688</td>\\n<td>664</td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>50</td>\\n<td><strong>Direct</strong></td>\\n<td><strong>0.000314</strong></td>\\n<td><strong>19,467</strong></td>\\n<td><strong>361</strong></td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>100</td>\\n<td><strong>Direct</strong></td>\\n<td><strong>0.000353</strong></td>\\n<td><strong>37,689</strong></td>\\n<td><strong>664</strong></td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>50</td>\\n<td><strong>Direct</strong></td>\\n<td><strong>0.000306</strong></td>\\n<td><strong>19,468</strong></td>\\n<td><strong>361</strong></td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>100</td>\\n<td><strong>Direct</strong></td>\\n<td><strong>0.000342</strong></td>\\n<td><strong>37,688</strong></td>\\n<td><strong>664</strong></td>\\n</tr>\\n</tbody>\\n</table>\\n<blockquote>\\n<p>SCAN ì ‘ê·¼ ë°©ì‹</p>\\n</blockquote>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Noise Key</th>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time ( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.000295</td>\\n<td>14,695</td>\\n<td>282</td>\\n</tr>\\n<tr>\\n<td><strong>0</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.000600</td>\\n<td>29,331</td>\\n<td>553</td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.020009</td>\\n<td>63,195</td>\\n<td>1,758</td>\\n</tr>\\n<tr>\\n<td><strong>10,000</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.021694</td>\\n<td>79,632</td>\\n<td>2,242</td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>50</td>\\n<td>SCAN</td>\\n<td>0.142613</td>\\n<td>445,458</td>\\n<td>10,803</td>\\n</tr>\\n<tr>\\n<td><strong>100,000</strong></td>\\n<td>100</td>\\n<td>SCAN</td>\\n<td>0.146344</td>\\n<td>467,877</td>\\n<td>11,629</td>\\n</tr>\\n</tbody>\\n</table>\\n<p>ìœ„ì˜ Table ì„ ë¶„ì„í–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>Direct ë°©ì‹ì€ Noise Data ê°€ 10ë§Œê°œê°€ ìˆì–´ë„, ì‘ë‹µì†ë„ê°€ 0.3ms ë¡œ ì¼ì •í•˜ê²Œ ìœ ì§€ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ Scan ë°©ì‹ì€ Noise Data ì— ë¹„ë¡€í•´ì„œ ì‘ë‹µ ì†ë„ê°€ 140ms ê¹Œì§€ ëŠë ¤ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>ë”°ë¼ì„œ 10ë§Œê°œì˜ Noise Data í™˜ê²½ì—ì„œ Direct ë°©ì‹ì´ ì•½ 460ë°° ë¹ ë¥¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\\n<p>ë˜í•œ SCAN ë°©ì‹ì€ Noise Key ì— ë”°ë¼ì„œ Memory ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆê³ , Direct ë°©ì‹ì€ í•„ìš”í•œ Key ì— ëŒ€í•´ì„œë§Œ Memory Load ë¥¼ í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\\n<h2 id=\\"á„€á…¢á„‡á…§á†¯-insert-á„‹á…´-á„†á…®á†«á„Œá…¦-á„‘á…¡á„‹á…¡á†¨á„€á…ª-batch-insert-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…³á„…á…©á„‹á…´-á„€á…¢á„‰á…¥á†«\\" tabindex=\\"-1\\">ê°œë³„ Insert ì˜ ë¬¸ì œ íŒŒì•…ê³¼ Batch Insert ë°©ì‹ìœ¼ë¡œì˜ ê°œì„  <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‡á…§á†¯-insert-á„‹á…´-á„†á…®á†«á„Œá…¦-á„‘á…¡á„‹á…¡á†¨á„€á…ª-batch-insert-á„‡á…¡á†¼á„‰á…µá†¨á„‹á…³á„…á…©á„‹á…´-á„€á…¢á„‰á…¥á†«\\" aria-label=\\"Permalink to &quot;ê°œë³„ Insert ì˜ ë¬¸ì œ íŒŒì•…ê³¼ Batch Insert ë°©ì‹ìœ¼ë¡œì˜ ê°œì„ &quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>GAMERS ë¡œì§ ì¤‘, ê°œë³„ Insert ë¥¼ í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤.</p>\\n<p>í˜„ì¬ ë‚˜ì˜ ìš´ì˜ ì„œë²„ëŠ” 1ì½”ì–´, 4GB ì˜ Memory ë¥¼ ê°€ì§„ VM ì´ê³ , ìœ íœ´ Connection ìµœëŒ€ ìˆ˜ê°€ 10ê°œ, ë™ì‹œ ì—´ ìˆ˜ ìˆëŠ” ìµœëŒ€ Connection ì€ 100ê°œë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ê³  ê°€ì •ì„ í–ˆì„ ë•Œ, ë¬¸ì œì ì´ ìƒê¸´ë‹¤.</p>\\n<div class=\\"language-go vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">go</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// * GAMERS-BE/global/config/config.go</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">sqlDB.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">SetMaxIdleConns</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">10</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">sqlDB.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">SetMaxOpenConns</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">100</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">sqlDB.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">SetConnMaxLifetime</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(time.Hour)</span></span></code></pre>\\n</div><ol>\\n<li>Network Round-Trip ì´ ë‹¤ìˆ˜ ë°œìƒí•œë‹¤.\\n<ol>\\n<li>Application ê³¼ MySQL ê°„ì˜ Network ê°€ ( Member Count * 2 ) ë§Œí¼ ë°œìƒí•œë‹¤.</li>\\n<li>1ì½”ì–´ VM ì„ ìƒê°í–ˆì„ ë•Œ, Context Switching ë¹„ìš©ì´ ë°œìƒí•œë‹¤.</li>\\n<li>Application â†’ MySQL â†’ Application â€¦</li>\\n</ol>\\n</li>\\n<li>InnoDB ì˜ Buffer Pool ì— ì••ë ¥ì´ ê°€í•´ì§„ë‹¤.\\n<ol>\\n<li>ê°œë³„ Insert ë§ˆë‹¤ Page ì˜ ìˆ˜ì •ì´ ê°€í•´ì§€ëŠ”ë°, ì´ëŸ´ ë•Œë§ˆë‹¤ dirty page flush ê°€ ë¹ˆë²ˆí•´ì§€ê³ , ì¶”ê°€ I/O ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤..</li>\\n</ol>\\n</li>\\n</ol>\\n<p>ë”°ë¼ì„œ Contest ì— ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” Member ë“¤ì— ëŒ€í•´ì„œ Batch Insert ë¥¼ ì‹œí–‰í•˜ì—¬ Testë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤.</p>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count  ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>10</strong></td>\\n<td><strong>CreateInBatches</strong></td>\\n<td><strong>0.00163</strong></td>\\n<td><strong>15,239</strong></td>\\n<td><strong>171</strong></td>\\n</tr>\\n<tr>\\n<td><strong>50</strong></td>\\n<td><strong>CreateInBatches</strong></td>\\n<td><strong>0.00216</strong></td>\\n<td><strong>51,351</strong></td>\\n<td><strong>571</strong></td>\\n</tr>\\n<tr>\\n<td><strong>100</strong></td>\\n<td><strong>CreateInBatches</strong></td>\\n<td><strong>0.00272</strong></td>\\n<td><strong>96,402</strong></td>\\n<td><strong>1,071</strong></td>\\n</tr>\\n<tr>\\n<td><strong>200</strong></td>\\n<td><strong>CreateInBatches</strong></td>\\n<td><strong>0.00344</strong></td>\\n<td><strong>191,775</strong></td>\\n<td><strong>2,116</strong></td>\\n</tr>\\n</tbody>\\n</table>\\n<p>ìœ„ëŠ” Batch Insert ë¥¼ ì„¤ì •í•´ì„œ ì†ë„ì™€ Memory ì‚¬ìš©ëŸ‰ì„ ì¸¡ì •í•œ í‘œì™€ ì•„ë˜ëŠ” ê°œë³„ Insert ë¥¼ ì„¤ì •í•´ì„œ ì†ë„ì™€ Memory ë¥¼ ë¹„êµí•˜ì˜€ë‹¤.</p>\\n<table tabindex=\\"0\\">\\n<thead>\\n<tr>\\n<th>Member Count</th>\\n<th>Method</th>\\n<th>Time( s/op )</th>\\n<th>Memory ( B/op )</th>\\n<th>Allocation Count  ( alloc / op )</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>10</strong></td>\\n<td>LoopSave</td>\\n<td>0.00423</td>\\n<td>51,779</td>\\n<td>544</td>\\n</tr>\\n<tr>\\n<td><strong>50</strong></td>\\n<td>LoopSave</td>\\n<td>0.01381</td>\\n<td>250,350</td>\\n<td>2,624</td>\\n</tr>\\n<tr>\\n<td><strong>100</strong></td>\\n<td>LoopSave</td>\\n<td>0.02334</td>\\n<td>498,588</td>\\n<td>5,225</td>\\n</tr>\\n<tr>\\n<td><strong>200</strong></td>\\n<td>LoopSave</td>\\n<td>0.04244</td>\\n<td>994,826</td>\\n<td>10,425</td>\\n</tr>\\n</tbody>\\n</table>\\n<p>200ëª…ì„ ê¸°ì¤€ìœ¼ë¡œ ì†ë„ëŠ” ì•½ 12ë°°ì •ë„ í–¥ìƒë˜ì—ˆìœ¼ë©°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ 5ë°° ì´ìƒ ì ˆê°í•˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<h2 id=\\"á„€á…§á†¯á„…á…©á†«\\" tabindex=\\"-1\\">ê²°ë¡  <a class=\\"header-anchor\\" href=\\"#á„€á…§á†¯á„…á…©á†«\\" aria-label=\\"Permalink to &quot;ê²°ë¡ &quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>ë³¸ë¡ ì—ì„œëŠ” Batch Insert ì™€ Direct ì ‘ê·¼ ë°©ì‹ì´ ê°œì„ ì€ í•˜ì˜€ë‹¤ê³  ë³¼ ìˆ˜ ìˆì§€ë§Œ, ì—¬ì „íˆ ë¬¸ì œëŠ” ìˆì—ˆë‹¤.</p>\\n<p>Batch Insert ë¥¼ ì§„í–‰í•  ë•Œ, Batch ë‹¨ìœ„ë°–ì— Error ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë””ì—ì„œ Error ê°€ ë°œìƒí•˜ëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” í™•ì¸ì´ ì–´ë ¤ì› ë‹¤.</p>\\n<p>ì´ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”í›„ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë¤„ë³´ê³ ì í•œë‹¤.</p>\\n<p>ê·¸ë¦¬ê³  Batch Insert ë¥¼ ì‚¬ìš©í•˜ë©´, Memory ì— ëª¨ì•„ì„œ ë‹¨ë²ˆì— DB ë¡œ ì „ì†¡í•˜ê¸° ë•Œë¬¸ì—, Memory ì— ë¶€í•˜ê°€ ê±¸ë¦´ ìˆ˜ ìˆì§€ë§Œ, GAMERS ì—ì„œëŠ” ê·¸ì •ë„ë¡œ ë§ì€ ì°¸ì—¬ìë¥¼ DB ë¡œ ì „ì†¡í•  ì¼ì´ ì—†ì–´ì„œ, Batch Insert ë¥¼ ì„ íƒí•˜ëŠ” ê·¼ê±°ê°€ ë˜ì—ˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ ì—¬ëŸ¬ Transaction ì´ Batch Insert ë¥¼ í•˜ë©´ Index Lock ë²”ìœ„ê°€ ë„“ì–´ì ¸ì„œ, Deadlock ì´ ê±¸ë¦´ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.</p>\\n<p>ì—¬ê¸°ì—ì„œ GAMERS ì„œë¹„ìŠ¤ì˜ PK ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì„¤ì •ì´ ë˜ì–´ìˆì–´, Deadlock ì´ ê±¸ë¦´ ê°€ëŠ¥ì„±ì„ ì¡°ê¸ˆì´ë¼ë„ ë‚®ì¶œ ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<h2 id=\\"reference\\" tabindex=\\"-1\\">Reference <a class=\\"header-anchor\\" href=\\"#reference\\" aria-label=\\"Permalink to &quot;Reference&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<ul>\\n<li><a href=\\"https://dev.mysql.com/doc/refman/8.4/en/insert-optimization.html\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://dev.mysql.com/doc/refman/8.4/en/insert-optimization.html</a></li>\\n<li><a href=\\"https://dev.mysql.com/doc/refman/8.4/en/optimizing-innodb-bulk-data-loading.html\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://dev.mysql.com/doc/refman/8.4/en/optimizing-innodb-bulk-data-loading.html</a></li>\\n<li><a href=\\"https://medium.com/@benmorel/high-speed-inserts-with-mysql-9d3dcd76f723\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://medium.com/@benmorel/high-speed-inserts-with-mysql-9d3dcd76f723</a></li>\\n<li><a href=\\"https://nickb.dev/blog/opitimizing-innodb-bulk-insert/\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://nickb.dev/blog/opitimizing-innodb-bulk-insert/</a></li>\\n<li><a href=\\"https://redis.io/docs/latest/commands/scan/\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://redis.io/docs/latest/commands/scan/</a></li>\\n</ul>\\n","frontmatter":{"title":"Contest Flow ì„±ëŠ¥ ê°œì„ ","description":"Redis SCAN ë°©ì‹ ê°œì„  ë° MySQL Batch Insert ë¥¼ í†µí•œ ì„±ëŠ¥ ìµœì í™”","date":"2026-01-28T16:40:00.000Z","categories":["develop"],"tags":["Go","Redis","MySQL","Optimization","Performance"]},"excerpt":"<h1 id=\\"contest-flow-á„‰á…¥á†¼á„‚á…³á†¼-á„€á…¢á„‰á…¥á†«\\" tabindex=\\"-1\\">Contest Flow ì„±ëŠ¥ ê°œì„  <a class=\\"header-anchor\\" href=\\"#contest-flow-á„‰á…¥á†¼á„‚á…³á†¼-á„€á…¢á„‰á…¥á†«\\" aria-label=\\"Permalink to &quot;Contest Flow ì„±ëŠ¥ ê°œì„ &quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n","url":"/posts/contest-flow-performance-improvement/"},{"html":"<h1 id=\\"github-organization-á„‹á…¦á„‰á…¥á„‹á…´-vercel-á„‡á…¢á„‘á…©\\" tabindex=\\"-1\\">Github Organization ì—ì„œì˜ Vercel ë°°í¬ <a class=\\"header-anchor\\" href=\\"#github-organization-á„‹á…¦á„‰á…¥á„‹á…´-vercel-á„‡á…¢á„‘á…©\\" aria-label=\\"Permalink to &quot;Github Organization ì—ì„œì˜ Vercel ë°°í¬&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"summary\\" tabindex=\\"-1\\">Summary <a class=\\"header-anchor\\" href=\\"#summary\\" aria-label=\\"Permalink to &quot;Summary&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>Github Organization ì—ì„œ Vercel ì„ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” Vercel ì˜ Pro ë¡œ ì—…ê·¸ë ˆì´ë“œí•´ì•¼ë§Œ í–ˆë‹¤.</p>\\n<p>Vercel ë°°í¬ ë‹¨ê³„ì—ì„œ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ë©´ì„œê¹Œì§€ Project ì˜ ë°°í¬ë¥¼ ì§„í–‰í•˜ê¸°ì—ëŠ” ë¶€ë‹´ê°ì´ ìˆì—ˆê¸° ë•Œë¬¸ì—, ìš°íšŒ ë°©ë²•ì— ëŒ€í•´ì„œ ì°¾ì•„ë³´ë˜ ì¤‘, ê°œì¸ Repository ë¼ë©´ Vercel ì— ë¬´ë£Œë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ë– ì˜¬ë¦¬ê²Œ ë˜ì—ˆë‹¤.</p>\\n<p>ì´ì „ Basilium Project ë¥¼ í•˜ë©´ì„œ ë™ì¼í•œ ìƒí™©ì— ì´ë¥´ë¥´ê²Œ ë˜ì—ˆëŠ”ë°, Branch ì— PR ì´ ìŠ¹ì¸ë˜ê³ , Merge ê°€ ë˜ë©´ í•­ìƒ ìˆ˜ì‘ì—…ìœ¼ë¡œ ê°œì¸ Repository ë¡œ Pull ì„ ë°›ì•„ì™€ì•¼ë˜ëŠ” ë¶€ë‹´ì´ ìˆì—ˆë‹¤.</p>\\n<ol>\\n<li>ì›ê²© Repository ì— ëŒ€í•´ì„œ Merge</li>\\n<li>ì›ê²© Repository ë¥¼ ê°œì¸ Repository ë¡œ Fork</li>\\n<li>ì›ê²© Repository ì—ì„œ ë³€ê²½ëœ ì‚¬í•­ì´ ìƒê¸¸ ë•Œë§ˆë‹¤ ê°œì¸ Repository ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰\\n<ol>\\n<li>git fetch upstream</li>\\n<li>git merge upstream/develop</li>\\n</ol>\\n</li>\\n<li>ìœ„ì˜ ëª…ë ¹ì–´ ì‹¤í–‰ í›„, push ë¥¼ í•´ì£¼ë©´ vercel ì—ì„œ ë°°í¬ ì‹œì‘</li>\\n</ol>\\n<p>ìœ„ì˜ ê³¼ì •ì„ ë°˜ë³µí•˜ê¸°ì—ëŠ” ê·€ì°®ìŒì´ ìˆì—ˆê¸° ë•Œë¬¸ì— CI/CD ë¥¼ ì´ìš©í•´ì„œ ìë™í™”í•˜ê³ ì í•´ë‹¹ Post ë¥¼ ì‘ì„±í•˜ê²Œ ëë‹¤.</p>\\n<h2 id=\\"content\\" tabindex=\\"-1\\">Content <a class=\\"header-anchor\\" href=\\"#content\\" aria-label=\\"Permalink to &quot;Content&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p><img src=\\"/images/FEDeployLogic.png\\" alt=\\"FEDeployLogic.png\\"></p>\\n<p>ì›í•˜ëŠ” Architecture ëŠ” ìœ„ì™€ ê°™ì´, Organization Repository ì—ì„œ branch ì— ë³€í™”ê°€ ì¼ì–´ë‚¬ì„ ê²½ìš°, Github Action ì—ì„œ ë³€í™” ê°ì§€ í›„, Single Repository ë¡œ Push ë¥¼ í•˜ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤.</p>\\n<p>ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì€ <strong><code>build.sh</code></strong> ë¥¼ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\\n<div class=\\"language-bash vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">bash</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">#!/bin/sh</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">cd</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ../</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">mkdir</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> output</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">cp</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> -R</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ./GAMERS-FE/</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">*</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ./output</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">cp</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> -R</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ./output</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ./GAMERS-FE/</span></span></code></pre>\\n</div><p>ì¶”ê°€ì ìœ¼ë¡œ Github Action ê³¼ ê°™ì€ deploy.yaml ì„ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´, commit ì´ ì¼ì–´ë‚¬ì„ ë•Œ, ê°œì¸ Repository ë¡œ commit ì„ ì˜¬ë¦´ ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.</p>\\n<div class=\\"language-bash vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">bash</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Deploy</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">on:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">  push:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    branches:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> [</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">'main'</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">jobs</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">  build:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    runs-on:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ubuntu-latest</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    container:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> pandoc/latex</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    steps:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> actions/checkout@v2</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Install</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> mustache</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (to </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">update</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> date</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        run:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> apk</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> add</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ruby</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> &#x26;&#x26; </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">gem</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> install</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> mustache</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> creates</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> output</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        run:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> sh</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ./build.sh</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Pushes</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> to</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> another</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> repository</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        id:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> push_directory</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> cpina/github-action-push-to-another-repository@main</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        env:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          API_TOKEN_GITHUB:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> \${{ secrets.AUTO_ACTIONS }</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">}</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        with:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          source-directory:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'output'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          destination-github-username:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'Github Username'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          destination-repository-name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> 'Forked Repository Name'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          user-email:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> '\${{ secrets.EMAIL }}'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          commit-message:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> '\${{ github.event.commits[0].message }}'</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          target-branch:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> main</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">          create-target-branch-if-needed:</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> true</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">      -</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Test</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> get</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> variable</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> exported</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> by</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> push-to-another-repository</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        run:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> echo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> $DESTINATION_CLONED_DIRECTORY</span></span></code></pre>\\n</div><aside>\\nğŸ’¡\\n<blockquote>\\n<p>ì•„ë˜ì˜ Keyword ë“¤ì„ Repository ì˜ Secret Variable ì„ ì„¤ì •í•´ì¤˜ì•¼ë¼.</p>\\n</blockquote>\\n<ul>\\n<li>AUTO_ACTIONS: Github ê°œë°œì Token ( PAT )\\n<ul>\\n<li>Repository ì— ëŒ€í•´ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ ì„¤ì • í•„ìš”</li>\\n</ul>\\n</li>\\n<li>EMAIL: Github ì˜ Email</li>\\n</ul>\\n</aside>\\n<p>í•˜ì§€ë§Œ ìœ„ì˜ Github Action ì„ ì‹¤í–‰í–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ì¼ì–´ë‚¬ëŠ”ë°,</p>\\n<aside>\\nğŸ’¡\\n<div class=\\"language-bash vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">bash</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Error:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Could</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> not</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> clone</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> destination</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> repository.</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Command:</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Error:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> git</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> clone</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> --single-branch</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> --branch</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> main</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> ***</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">[github.com/Sunja-An/GAMERS-FE.git]</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">http://github.com/Sunja-An/GAMERS-FE.git</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">/tmp/tmp.epMKJf</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Error:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (Note </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">that</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> if</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> they</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> exist</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> USER_NAME</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> and</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> API_TOKEN</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> is</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> redacted</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> by</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> GitHub</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Error:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Please</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> verify</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> that</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> target</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> repository</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> exist</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> AND</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> that</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> it</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> contains</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> destination</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> branch</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name,</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> and</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> is</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> accesible</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> by</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> API_TOKEN_GITHUB</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> OR</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> SSH_DEPLOY_KEY</span></span></code></pre>\\n</div></aside>\\n<p>ìœ„ì˜ Log ë¥¼ ë³´ë©´, git clone ì´ ë˜ì§€ì•ŠëŠ”ë‹¤. target repository ë¥¼ í™•ì¸í•´ë‹¬ë¼ëŠ” ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ë¯¸ Github ì˜ Token ì€ ì´ë¯¸ ì„¤ì •ë˜ì–´ìˆì—ˆê³ , Fork ë˜í•œ ì´ë¯¸ ë˜ì–´ìˆì—ˆë‹¤.</p>\\n<p>ì›ì¸ì„ ë¶„ì„í•œ ê²°ê³¼, ë¬¸ì œëŠ” pandoc/latex ì— ìˆì—ˆë‹¤.</p>\\n<p>ë³´í†µ ìš°ë¦¬ê°€ Java SpringBoot ë‚˜, WAS ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ ubuntu-latest í™˜ê²½ì—ì„œ Build ë¥¼ í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê¸°ì— ë‚˜ë„ ubuntu-latest í™˜ê²½ì²˜ëŸ¼ pandoc/latex ë˜í•œ git ì´ ê¹”ë ¤ìˆëŠ” ì¤„ ì•Œì•˜ë‹¤.</p>\\n<p>ë”°ë¼ì„œ git ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì—, ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ê³ , git ì„ ë‹¤ìš´ë¡œë“œë°›ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ìˆ˜ì •í•´ì£¼ì—ˆë‹¤.</p>\\n<div class=\\"language-bash vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">bash</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">-</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> uses:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> actions/checkout@v2</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">-</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> name:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> Install</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> mustache</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (to </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">update</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> the</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> date</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">\\trun:</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> apk</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> add</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> ruby</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> git</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> &#x26;&#x26; </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">gem</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> install</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> mustache</span></span></code></pre>\\n</div><p>ì™œ ubuntu-latest ë¥¼ ê³ ë¥´ì§€ ì•Šê³ ,pandoc/latex ë¥¼ ì„ íƒí•˜ì˜€ëŠ”ê°€ì— ëŒ€í•œ ì´ìœ ëŠ” Github ì˜ Repository ë¥¼ ë³µì‚¬í•˜ì—¬, ê°œì¸ Repository ë¡œ ì˜®ê¸°ê¸° ìœ„í•¨ì´ë¯€ë¡œ ì´ë¥¼ ë™ì‘í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ë¬´ê±°ìš´ OS ë¥¼ ê³ ë¥¼ í•„ìš”ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\\n<p>ë”°ë¼ì„œ Github Action ê³¼ Vercel ì´ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆê³ , ì´ë¥¼ í†µí•´ Project ì˜ Vercel ë°°í¬ Pipeline ì´ ì™„ì„±ë˜ì—ˆë‹¤.</p>\\n<h2 id=\\"conclusion\\" tabindex=\\"-1\\">Conclusion <a class=\\"header-anchor\\" href=\\"#conclusion\\" aria-label=\\"Permalink to &quot;Conclusion&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<p>ë¹„ìš©ì„ ì ˆê°í•˜ê¸° ìœ„í•´ì„œ ê³ ë¯¼í•˜ì—¬ Pipeline ì„ ê¾¸ë¦¬ëŠ” ê³¼ì •ì´ ì˜ë¯¸ ê¹Šì—ˆë˜ ê²ƒ ê°™ë‹¤.</p>\\n<p>ë˜í•œ Organization ì—ì„œ FE ë°°í¬ê°€ ì•ˆëœë‹¤ëŠ” ì‚¬ì‹¤ì— ì¢Œì ˆí•˜ì—¬, Docker ë°°í¬ê¹Œì§€ ìƒê°ì„ í–ˆì—ˆëŠ”ë°, ì—¬ê¸°ì—ì„œ ë¹„ìš©ì„ ì•„ë‚„ ìˆ˜ ìˆì–´ì„œ ì¢‹ì€ ê²½í—˜ì„ ìŒ“ì€ ê²ƒ ê°™ë‹¤.</p>\\n<h2 id=\\"reference\\" tabindex=\\"-1\\">Reference <a class=\\"header-anchor\\" href=\\"#reference\\" aria-label=\\"Permalink to &quot;Reference&quot;\\">&ZeroWidthSpace;</a></h2>\\n<hr>\\n<ul>\\n<li><a href=\\"https://velog.io/@rmaomina/organization-vercel-hobby-deploy\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://velog.io/@rmaomina/organization-vercel-hobby-deploy</a></li>\\n<li><a href=\\"https://jjang-j.tistory.com/93\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://jjang-j.tistory.com/93</a></li>\\n<li><a href=\\"https://github.com/pandoc/pandoc-action-example\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://github.com/pandoc/pandoc-action-example</a></li>\\n</ul>\\n","frontmatter":{"title":"Github Organization ì—ì„œì˜ Vercel ë°°í¬","description":"Github Organization ì—ì„œ Vercel ë¡œ ë°°í¬í•˜ëŠ” ë¹„ìš© ì ˆê° ë° ìš°íšŒ ë°©ë²•","date":"2026-01-27T08:55:00.000Z","categories":["develop"],"tags":["Vercel","Github Actions","CI/CD"]},"excerpt":"<h1 id=\\"github-organization-á„‹á…¦á„‰á…¥á„‹á…´-vercel-á„‡á…¢á„‘á…©\\" tabindex=\\"-1\\">Github Organization ì—ì„œì˜ Vercel ë°°í¬ <a class=\\"header-anchor\\" href=\\"#github-organization-á„‹á…¦á„‰á…¥á„‹á…´-vercel-á„‡á…¢á„‘á…©\\" aria-label=\\"Permalink to &quot;Github Organization ì—ì„œì˜ Vercel ë°°í¬&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"summary\\" tabindex=\\"-1\\">Summary <a class=\\"header-anchor\\" href=\\"#summary\\" aria-label=\\"Permalink to &quot;Summary&quot;\\">&ZeroWidthSpace;</a></h2>\\n","url":"/posts/github-org-vercel-deploy/"},{"html":"<h1 id=\\"ãƒˆãƒãƒˆ-tomato\\" tabindex=\\"-1\\">ãƒˆãƒãƒˆ (Tomato) <a class=\\"header-anchor\\" href=\\"#ãƒˆãƒãƒˆ-tomato\\" aria-label=\\"Permalink to &quot;ãƒˆãƒãƒˆ (Tomato)&quot;\\">&ZeroWidthSpace;</a></h1>\\n<ul>\\n<li><strong>æ‰€è¦æ™‚é–“</strong>: 30åˆ†</li>\\n<li><strong>è§£æ³•ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</strong>:</li>\\n</ul>\\n<div class=\\"language- vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\"></span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span>1. å•é¡Œæ–‡ã‹ã‚‰ã€Œç†Ÿã—ãŸãƒˆãƒãƒˆã®éš£æ¥ã™ã‚‹ãƒˆãƒãƒˆã‚‚ç†Ÿã—ã¦ã„ãã€ã¨ã„ã†ç‚¹ã«ç€ç›®ã—ã¾ã—ãŸã€‚</span></span>\\n<span class=\\"line\\"><span>2. å…¥åŠ›ã‚’å—ã‘å–ã‚‹éš›ã€å€¤ãŒã€Œ1ï¼ˆç†Ÿã—ãŸãƒˆãƒãƒˆï¼‰ã€ã®åº§æ¨™ã‚’Queueã«è¿½åŠ ã—ã€BFSï¼ˆå¹…å„ªå…ˆæ¢ç´¢ï¼‰ã‚’ç”¨ã„ã¦ç†Ÿã—ã¦ã„ããƒˆãƒãƒˆã®æ—¥æ•°ã‚’è¨ˆç®—ã™ã‚Œã°ã‚ˆã„ã¨è€ƒãˆã¾ã—ãŸã€‚</span></span></code></pre>\\n</div><ul>\\n<li><strong>ã‚³ãƒ¼ãƒ‰</strong>:</li>\\n</ul>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.BufferedReader;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.IOException;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.InputStreamReader;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.LinkedList;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.Queue;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.StringTokenizer;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> IOException {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        BufferedReader br </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> BufferedReader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> InputStreamReader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(System.in));</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        StringTokenizer st </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringTokenizer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(br.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">readLine</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[][] arr </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[n][m];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        Queue&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]> queue </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> LinkedList&#x3C;>();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] dx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">};</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] dy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">};</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            st </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringTokenizer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(br.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">readLine</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m; j</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">add</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{i, j});</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        while</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">isEmpty</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] current </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">poll</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> current[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> current[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 4</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> dx[i];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> dy[i];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">>=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> &#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">>=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> &#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[nx][ny] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    arr[nx][ny] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[cx][cy] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">add</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{nx, ny});</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m; j</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[i][j]) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[i][j];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><ul>\\n<li><strong>å­¦ã‚“ã ã“ã¨</strong>:\\n<ul>\\n<li>æ–‡å­—åˆ—å‡¦ç†ï¼ˆStringï¼‰ã«ãŠã„ã¦ã€<code>StringTokenizer</code> ã®æ–¹ãŒæ¼”ç®—é€Ÿåº¦ãŒé€Ÿã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</li>\\n</ul>\\n</li>\\n<li><strong>åçœç‚¹ãƒ»æ”¹å–„ç‚¹</strong>:\\n<ul>\\n<li>åˆæœŸã®ã‚³ãƒ¼ãƒ‰ã¯æ•´ç†ã•ã‚Œã¦ãŠã‚‰ãšã€å†—é•·ãªéƒ¨åˆ†ãŒå¤šãã‚ã‚Šã¾ã—ãŸã€‚</li>\\n<li>ä¸€æ™‚å¤‰æ•°ï¼ˆtemp variableï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒˆãƒãƒˆã®æ—¥æ•°ã‚’è¨ˆç®—ã™ã‚‹ãªã©ã€ä¸è¦ãªæ¼”ç®—ãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚</li>\\n<li>æ¡ä»¶ã¨ã—ã¦ã€ŒãƒˆãƒãƒˆãŒ1ã§ã‚ã‚Œã°ç†Ÿã—ã¦ã„ã‚‹ã€ã¨ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€1ä»¥ä¸Šã®å€¤ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒç‰¹ã«ãªã‹ã£ãŸãŸã‚ã€æ—¥æ•°ã®è¨ˆç®—ã‚’ç›´æ¥ <code>arr</code> é…åˆ—ä¸Šã§è¡Œã†ã‚ˆã†ã«æ”¹å–„ã—ã¾ã—ãŸã€‚</li>\\n</ul>\\n</li>\\n</ul>\\n<p>ä¸‹è¨˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã€<code>StringTokenizer</code> ã®æ–¹ãŒæ¼”ç®—é€Ÿåº¦ãŒé€Ÿã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.StringTokenizer;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> SpeedTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 10_000_000</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Creating Data (\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\")... Wait a moment.\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        StringBuilder sb </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringBuilder</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            sb.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">append</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(i).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">append</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\" \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        String inputData </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> sb.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">toString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Complete! Length: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> inputData.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">length</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"--------------------------------------------------\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> System.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">currentTimeMillis</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] splitResult </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> inputData.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">split</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\" \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> sumSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String s </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">:</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> splitResult) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            sumSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> s.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">length</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> endSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> System.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">currentTimeMillis</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"[String.split] Duration: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (endSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startSplit) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"ms\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> System.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">currentTimeMillis</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        StringTokenizer st </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringTokenizer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(inputData);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> sumToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        while</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">hasMoreTokens</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            String s </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            sumToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> s.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">length</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> endToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> System.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">currentTimeMillis</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"[StringTokenizer] Duration: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (endToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startToken) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"ms\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"--------------------------------------------------\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Result: StringTokenizer is faster!! It's a figure of how fast StringTokenizer is.\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">double</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)(endSplit </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startSplit) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">/</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (endToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> startToken));</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><hr>\\n<p><strong>å•é¡Œãƒªãƒ³ã‚¯</strong>: <a href=\\"https://www.acmicpc.net/problem/7576\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://www.acmicpc.net/problem/7576</a></p>\\n","frontmatter":{"title":"Tomato (ãƒˆãƒãƒˆ)","description":"BOJ 7576 ãƒˆãƒãƒˆå•é¡Œã®è§£èª¬åŠã³StringTokenizerã®æ€§èƒ½åˆ†æ","date":"2026-01-20T07:50:00.000Z","categories":["algorithm"],"tags":["Java","BFS","BOJ","Algorithm"]},"excerpt":"<h1 id=\\"ãƒˆãƒãƒˆ-tomato\\" tabindex=\\"-1\\">ãƒˆãƒãƒˆ (Tomato) <a class=\\"header-anchor\\" href=\\"#ãƒˆãƒãƒˆ-tomato\\" aria-label=\\"Permalink to &quot;ãƒˆãƒãƒˆ (Tomato)&quot;\\">&ZeroWidthSpace;</a></h1>\\n<ul>\\n<li><strong>æ‰€è¦æ™‚é–“</strong>: 30åˆ†</li>\\n<li><strong>è§£æ³•ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</strong>:</li>\\n</ul>\\n<div class=\\"language- vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\"></span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span>1. å•é¡Œæ–‡ã‹ã‚‰ã€Œç†Ÿã—ãŸãƒˆãƒãƒˆã®éš£æ¥ã™ã‚‹ãƒˆãƒãƒˆã‚‚ç†Ÿã—ã¦ã„ãã€ã¨ã„ã†ç‚¹ã«ç€ç›®ã—ã¾ã—ãŸã€‚</span></span>\\n<span class=\\"line\\"><span>2. å…¥åŠ›ã‚’å—ã‘å–ã‚‹éš›ã€å€¤ãŒã€Œ1ï¼ˆç†Ÿã—ãŸãƒˆãƒãƒˆï¼‰ã€ã®åº§æ¨™ã‚’Queueã«è¿½åŠ ã—ã€BFSï¼ˆå¹…å„ªå…ˆæ¢ç´¢ï¼‰ã‚’ç”¨ã„ã¦ç†Ÿã—ã¦ã„ããƒˆãƒãƒˆã®æ—¥æ•°ã‚’è¨ˆç®—ã™ã‚Œã°ã‚ˆã„ã¨è€ƒãˆã¾ã—ãŸã€‚</span></span></code></pre>\\n</div><ul>\\n<li><strong>ã‚³ãƒ¼ãƒ‰</strong>:</li>\\n</ul>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.BufferedReader;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.IOException;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.InputStreamReader;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.LinkedList;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.Queue;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.StringTokenizer;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> IOException {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        BufferedReader br </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> BufferedReader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> InputStreamReader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(System.in));</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        StringTokenizer st </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringTokenizer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(br.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">readLine</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[][] arr </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[n][m];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        Queue&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]> queue </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> LinkedList&#x3C;>();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] dx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">};</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] dy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">};</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            st </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringTokenizer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(br.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">readLine</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m; j</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Integer.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">parseInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(st.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">nextToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">add</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{i, j});</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        while</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">isEmpty</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] current </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">poll</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> current[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> current[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 4</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> dx[i];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cy </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> dy[i];</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">>=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> &#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> nx </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">>=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> &#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ny </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x26;&#x26;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[nx][ny] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    arr[nx][ny] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[cx][cy] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    queue.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">add</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{nx, ny});</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> n; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; j </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> m; j</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (arr[i][j] </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[i][j]) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> arr[i][j];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><ul>\\n<li><strong>å­¦ã‚“ã ã“ã¨</strong>:\\n<ul>\\n<li>æ–‡å­—åˆ—å‡¦ç†ï¼ˆStringï¼‰ã«ãŠã„ã¦ã€<code>StringTokenizer</code> ã®æ–¹ãŒæ¼”ç®—é€Ÿåº¦ãŒé€Ÿã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</li>\\n</ul>\\n</li>\\n<li><strong>åçœç‚¹ãƒ»æ”¹å–„ç‚¹</strong>:\\n<ul>\\n<li>åˆæœŸã®ã‚³ãƒ¼ãƒ‰ã¯æ•´ç†ã•ã‚Œã¦ãŠã‚‰ãšã€å†—é•·ãªéƒ¨åˆ†ãŒå¤šãã‚ã‚Šã¾ã—ãŸã€‚</li>\\n<li>ä¸€æ™‚å¤‰æ•°ï¼ˆtemp variableï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒˆãƒãƒˆã®æ—¥æ•°ã‚’è¨ˆç®—ã™ã‚‹ãªã©ã€ä¸è¦ãªæ¼”ç®—ãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚</li>\\n<li>æ¡ä»¶ã¨ã—ã¦ã€ŒãƒˆãƒãƒˆãŒ1ã§ã‚ã‚Œã°ç†Ÿã—ã¦ã„ã‚‹ã€ã¨ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€1ä»¥ä¸Šã®å€¤ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒç‰¹ã«ãªã‹ã£ãŸãŸã‚ã€æ—¥æ•°ã®è¨ˆç®—ã‚’ç›´æ¥ <code>arr</code> é…åˆ—ä¸Šã§è¡Œã†ã‚ˆã†ã«æ”¹å–„ã—ã¾ã—ãŸã€‚</li>\\n</ul>\\n</li>\\n</ul>\\n<p>ä¸‹è¨˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã€<code>StringTokenizer</code> ã®æ–¹ãŒæ¼”ç®—é€Ÿåº¦ãŒé€Ÿã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.StringTokenizer;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> SpeedTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 10_000_000</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Creating Data (\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\")... Wait a moment.\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        StringBuilder sb </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> StringBuilder</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        for</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; i </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DATA_SIZE; i</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            sb.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">append</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(i).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">append</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\" \\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        String inputData </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> sb.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">toString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Complete! Length: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> inputData.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">length</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"</span></span></code></pre>\\n</div>","url":"/posts/tomato/"},{"html":"<h1 id=\\"threadlocal-á„‹á…©á„‹á…§á†·-á„†á…®á†«á„Œá…¦á„…á…³á†¯-á„Œá…µá†¨á„Œá…¥á†¸-á„á…¦á„‰á…³á„á…³á„’á…¢á„‡á…©á„‹á…¡á†»á„ƒá…¡\\" tabindex=\\"-1\\">ThreadLocal ì˜¤ì—¼ ë¬¸ì œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ë‹¤ <a class=\\"header-anchor\\" href=\\"#threadlocal-á„‹á…©á„‹á…§á†·-á„†á…®á†«á„Œá…¦á„…á…³á†¯-á„Œá…µá†¨á„Œá…¥á†¸-á„á…¦á„‰á…³á„á…³á„’á…¢á„‡á…©á„‹á…¡á†»á„ƒá…¡\\" aria-label=\\"Permalink to &quot;ThreadLocal ì˜¤ì—¼ ë¬¸ì œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ë‹¤&quot;\\">&ZeroWidthSpace;</a></h1>\\n<img width=\\"500\\" height=\\"250\\" alt=\\"Image\\" src=\\"https://github.com/user-attachments/assets/2ec401dd-0ccf-48f0-b02e-4646ebbac894\\" />\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>í† í°ì— ëŒ€í•œ ê´€ë¦¬ë°©ë²•ì„ ìƒê°í•˜ë©´ì„œ SpringBoot Security ë¥¼ ì‚¬ìš©í•˜ëŠëƒ, ì•ˆí•˜ëƒì˜ ì°¨ì´ì ì„ ë”°ì ¸ë³´ì•˜ì„ ë•Œ, ThreadLocal ì— ëŒ€í•œ ê´€ë¦¬ ì°¨ì´ë¥¼ ì•Œê²Œ ë˜ì—ˆë‹¤.\\nThreadLocal ëŠ” í•˜ë‚˜ì˜ Thread ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì €ì¥ì†Œë¡œì¨, Security ì—ì„œëŠ” ìš”ì²­ì´ ì™”ì„ ë•Œ, ìš”ì²­ì— ë“¤ì–´ìˆëŠ” ì •ë³´ì— ëŒ€í•´ì„œ ì–´ë–¤ Layer ì—ì„œë„ <strong>ìš”ì²­ì´ ì‚´ì•„ìˆëŠ”í•œ</strong> ì ‘ê·¼ì„ í•  ìˆ˜ ìˆë‹¤.\\nìš°ë¦¬ì˜ ì„œë¹„ìŠ¤ëŠ” Security ë¥¼ ë‹¬ê²Œ ë  ê²½ìš°, ì“°ì§€ ì•ŠëŠ” ê¸°ëŠ¥ë“¤ì´ ë§ì•„ì ¸ í”„ë¡œì íŠ¸ê°€ ë¹„ëŒ€í•´ì§€ê¸° ë•Œë¬¸ì—, Security ë¥¼ ë„ì…í•˜ì§€ì•Šì•˜ë‹¤.\\në”°ë¼ì„œ Security ì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì— ëŒ€í•´ì„œë§Œ ê²€í† ë¥¼ í•˜ì—¬, jobmanri ì— ì ìš©í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.</p>\\n<p>ê²°ë¡ ì ìœ¼ë¡œ ThreadLocal ì„ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ThreadLocal ì˜ íŠ¹ì§•ì„ ë³¼ ë•Œ, ë‚´ë¶€ ë‚´ìš©ì„ ë¹„ì›Œì£¼ì§€ì•Šìœ¼ë©´ ì‚¬ìš©ì ì¸ì¦ì •ë³´ê°€ ë‚¨ì•„ìˆëŠ” ì˜¤ì—¼ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì˜€ë‹¤.</p>\\n<p>í•˜ì§€ë§Œ ì •ë§ ì˜¤ì—¼ì´ ì´ë£¨ì–´ì§ˆê¹Œ? ë¼ëŠ” ê¶ê¸ˆì¦ì´ ìƒê²¨ ì´ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³ ì í•œë‹¤.</p>\\n<h2 id=\\"test-á„’á…ªá†«á„€á…§á†¼á„‰á…¥á†¯á„Œá…¥á†¼\\" tabindex=\\"-1\\">Test í™˜ê²½ì„¤ì • <a class=\\"header-anchor\\" href=\\"#test-á„’á…ªá†«á„€á…§á†¼á„‰á…¥á†¯á„Œá…¥á†¼\\" aria-label=\\"Permalink to &quot;Test í™˜ê²½ì„¤ì •&quot;\\">&ZeroWidthSpace;</a></h2>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">SpringBootTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">webEnvironment</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> =</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> SpringBootTest.WebEnvironment.RANDOM_PORT)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">TestPropertySource</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">properties</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> =</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"server.tomcat.threads.max=1\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span></code></pre>\\n</div><p>ìœ„ì²˜ëŸ¼ Controller ì— ëŒ€í•´ì„œ í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼ë˜ë¯€ë¡œ, SpringBootTest ë¥¼ ì„¤ì •í•´ë‘ì—ˆë‹¤.\\nê·¸ë¦¬ê³  Thread ì— ëŒ€í•´ì„œ ì˜¤ì—¼ë˜ëŠ”ì§€ ë¹ ë¥´ê²Œ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ tomcatì˜ thread ë¥¼ 1ë¡œ ì„¤ì •í•´ë‘ì—ˆë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Autowired</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">private</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> TestRestTemplate restTemplate;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">TestConfiguration</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> TestRestTemplateConfiguration</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Bean</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> DController </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">dController</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> DController</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ê·¸ë¦¬ê³  RestTemplate ì— ëŒ€í•´ì„œ Test ìš©ë„ë¡œ ì‚¬ìš©í•´ë„ ë ê¹Œ? ë¼ëŠ” ì˜ë¬¸ì„ ê°€ì¡ŒëŠ”ë°, ì°¾ì•„ë³´ë‹ˆ TestRestTemplate ì´ ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤.\\nTestRestTemplate ì€ í†µí•©í…ŒìŠ¤íŠ¸ì— ì í•©í•œ RestTemplate ì¸ë°, ì´ì— ëŒ€í•œ ë‚´ìš©ì€ ì•„ë˜ì˜ Reference ì— ì ìš©í•´ë†“ì•˜ë‹¤.</p>\\n<p>ì¶”ê°€ì ìœ¼ë¡œ Controller ì— ëŒ€í•œ ë‚´ìš©ì´ Main ì†ŒìŠ¤ì½”ë“œì— ë“¤ì–´ê°€ë©´ ì•ˆë˜ëŠ” ë‚´ìš©ì´ë¼ Test íŒŒì¼ ë‚´ë¶€ì— ì„¤ì •í•´ë†“ì•˜ëŠ”ë°, SpringBoot Application Container ì—ì„œ Bean ìœ¼ë¡œ ë“±ë¡í•´, Adapter ë¡œ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ Bean ë˜í•œ ë“±ë¡ì„ í•´ì£¼ì—ˆë‹¤.</p>\\n<p>Test í™˜ê²½ì—ì„œëŠ” TestConfiguration ì´ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ ì ìš©í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤!</p>\\n<h2 id=\\"test-á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">Test ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#test-á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;Test ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>í…ŒìŠ¤íŠ¸ ë‚´ìš©ì— ëŒ€í•´ì„œëŠ” ì´ 2ê°€ì§€ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.</p>\\n<ol>\\n<li>ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í–ˆì„ ë•Œ ( ì˜¤ì—¼ë˜ì§€ ì•Šì•˜ì„ ë•Œ )</li>\\n<li>ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ë•Œ ( ì˜¤ì—¼ë˜ì—ˆì„ ë•Œ )</li>\\n</ol>\\n<h3 id=\\"threadlocal-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-clear-á„…á…³á†¯-á„’á…¢á†»á„‹á…³á†¯-á„„á…¢-á„‹á…©á„‹á…§á†·á„ƒá…¬á„Œá…µ-á„‹á…¡á†­á„‹á…¡á†»á„‹á…³á†¯-á„„á…¢\\" tabindex=\\"-1\\">ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í–ˆì„ ë•Œ ( ì˜¤ì—¼ë˜ì§€ ì•Šì•˜ì„ ë•Œ ) <a class=\\"header-anchor\\" href=\\"#threadlocal-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-clear-á„…á…³á†¯-á„’á…¢á†»á„‹á…³á†¯-á„„á…¢-á„‹á…©á„‹á…§á†·á„ƒá…¬á„Œá…µ-á„‹á…¡á†­á„‹á…¡á†»á„‹á…³á†¯-á„„á…¢\\" aria-label=\\"Permalink to &quot;ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í–ˆì„ ë•Œ ( ì˜¤ì—¼ë˜ì§€ ì•Šì•˜ì„ ë•Œ )&quot;\\">&ZeroWidthSpace;</a></h3>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// * Thread Local ê°ì²´</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">package</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> com.example.bak.auth.threadlocal;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AuthContext</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ThreadLocal&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> session </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ThreadLocal&#x3C;>();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> setToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">token</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        session.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">set</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> String </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> session.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">get</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> clear</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        session.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">remove</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">RestController</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> DController</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">  @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">GetMapping</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">  public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> String </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">handleTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">RequestParam</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">required</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> =</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> false</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">token</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">      try</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">         if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">           AuthContext.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">         }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">         return</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"savedToken: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> AuthContext.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">      }</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">finally</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">           AuthContext.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">clear</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">      }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">  }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ëŠ” í† í°ì„ ì„¤ì •í•˜ê³ , í•´ë‹¹ ìš”ì²­ì´ ì²˜ë¦¬ê°€ ëë‚¬ì„ ë•Œ, ThreadLocal ì— ëŒ€í•œ ë‚´ìš©ì„ ì§€ìš°ëŠ” Controller ì´ë‹¤.</p>\\n<p>ì´ì— ëŒ€í•´ì„œ í† í°ì´ ì—†ëŠ”ì§€ë¥¼ í…ŒìŠ¤íŠ¸ë¥¼ í–ˆì„ ë•Œ, í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>[TestCode]</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Test</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">DisplayName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ThreadLocal ì„ clear í•˜ì§€ ì•Šì„ ê²½ìš°, ì´ì „ ì‚¬ìš©ìì˜ Token ì´ ë‚¨ì•„ìˆëŠ”ê°€?\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> clearThreadLocal</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // given</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    String userAToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"SECRET-A\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // when</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ResponseEntity&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> responseA </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> restTemplate.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getForEntity</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test?token=\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> userAToken, String.class);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"User A Response: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> responseA.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    assertThat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(responseA.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">contains</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"savedToken: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> userAToken);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // given</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ResponseEntity&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> responseB </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> restTemplate.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getForEntity</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, String.class);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    assertThat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(responseB.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">isEqualTo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"savedToken: null\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><img width=\\"1512\\" height=\\"949\\" alt=\\"Image\\" src=\\"https://github.com/user-attachments/assets/06cb3ce3-b77c-469f-886d-0e4b70d8d90e\\" />\\n<h3 id=\\"threadlocal-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-clear-á„…á…³á†¯-á„’á…¡á„Œá…µ-á„‹á…¡á†­á„‹á…¡á†»á„‹á…³á†¯-á„„á…¢-á„‹á…©á„‹á…§á†·á„ƒá…¬á„‹á…¥á†»á„‹á…³á†¯-á„„á…¢\\" tabindex=\\"-1\\">ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ë•Œ ( ì˜¤ì—¼ë˜ì—ˆì„ ë•Œ ) <a class=\\"header-anchor\\" href=\\"#threadlocal-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-clear-á„…á…³á†¯-á„’á…¡á„Œá…µ-á„‹á…¡á†­á„‹á…¡á†»á„‹á…³á†¯-á„„á…¢-á„‹á…©á„‹á…§á†·á„ƒá…¬á„‹á…¥á†»á„‹á…³á†¯-á„„á…¢\\" aria-label=\\"Permalink to &quot;ThreadLocal ì— ëŒ€í•´ì„œ Clear ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ë•Œ ( ì˜¤ì—¼ë˜ì—ˆì„ ë•Œ )&quot;\\">&ZeroWidthSpace;</a></h3>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">RestController</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> DController</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">GetMapping</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> String </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">handleTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">RequestParam</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">required</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> =</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> false</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">token</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            AuthContext.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"savedToken: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> AuthContext.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ì²˜ëŸ¼ ì„¤ì •ì„ ë°”ê¾¼ í›„, ThreadLocal ì— ëŒ€í•´ì„œ clear ë¥¼ í•˜ì§€ ì•Šì•˜ì„ ê²½ìš°ë¥¼ í™•ì¸í•´ë³´ì•˜ë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Test</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">DisplayName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ThreadLocal ì„ clear í•˜ì§€ ì•Šì„ ê²½ìš°, ì´ì „ ì‚¬ìš©ìì˜ Token ì´ ë‚¨ì•„ìˆëŠ”ê°€?\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> clearThreadLocal</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // given</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    String userAToken </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"SECRET-A\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // when</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ResponseEntity&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> responseA </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> restTemplate.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getForEntity</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test?token=\\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> userAToken, String.class);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"User A Response: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> responseA.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    assertThat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(responseA.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">contains</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"savedToken: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> userAToken);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // given</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ResponseEntity&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> responseB </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> restTemplate.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getForEntity</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/auth-test\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, String.class);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    assertThat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(responseB.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getBody</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">isEqualTo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"savedToken: \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> userAToken);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><img width=\\"1512\\" height=\\"949\\" alt=\\"Image\\" src=\\"https://github.com/user-attachments/assets/36dca4cf-e974-4f56-b583-355f2977a993\\" />\\n<p>ë³´ì´ëŠ” ê²ƒê³¼ ê°™ì´ userAToken ì— ëŒ€í•´ì„œ ë‚¨ì•„ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!</p>\\n<h2 id=\\"á„€á…§á†¯á„…á…©á†«\\" tabindex=\\"-1\\">ê²°ë¡  <a class=\\"header-anchor\\" href=\\"#á„€á…§á†¯á„…á…©á†«\\" aria-label=\\"Permalink to &quot;ê²°ë¡ &quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ThreadLocal ì€ ëª¨ë“  Layer ì—ì„œ ì ‘ê·¼ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, Layer ê°„ì˜ ì±…ì„ì— ëŒ€í•´ì„œ ë˜ê²Œ ëª¨í˜¸í•œ ê²½ê³„ì„ ì´ ë  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\\nì¶”ê°€ì ìœ¼ë¡œ Security ì—ì„œëŠ” í•´ë‹¹ ThreadLocal ì— ëŒ€í•´ì„œ ê´€ë¦¬ë¥¼ í•´ì£¼ì§€ë§Œ, ë§Œì•½ ì œê°€ ( @Sunja-An  ) ì´ë¥¼ ê´€ë¦¬í•œë‹¤ê³  í–ˆì„ ë•Œ, íœ´ë¨¼ì—ëŸ¬ê°€ ë§ì´ ë‚˜ì˜¬ ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ê³ , ë˜í•œ ì§€ìš°ì§€ ì•Šì•˜ì„ ê²½ìš°ì˜ ìœ„í—˜ ë¶€ë‹´ì´ êµ‰ì¥íˆ í¬ë‹¤ê³  ìƒê°í•˜ì—¬ ë„ì…ì„ í•˜ì§€ ì•Šê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\\n<p>ê·¸ë¦¬ê³  ëˆˆìœ¼ë¡œ Thread ì˜ ì €ì¥ì†Œê°€ ì˜¤ì—¼ì´ ë˜ì–´ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ëŠ” ê²½í—˜ì„ í•´ë³´ì•„ êµ‰ì¥íˆ ê°’ì§„ ê²½í—˜ì„ í–ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤ ğŸ¥´</p>\\n<p>ì´ë²ˆ Issue ì— ëŒ€í•´ì„œ ê¶ê¸ˆí•œ ì ê³¼ ì œì•ˆí•´ì£¼ì‹¤ ë¶€ë¶„ì´ ìˆìœ¼ë©´ ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ˜</p>\\n<h2 id=\\"reference\\" tabindex=\\"-1\\">Reference <a class=\\"header-anchor\\" href=\\"#reference\\" aria-label=\\"Permalink to &quot;Reference&quot;\\">&ZeroWidthSpace;</a></h2>\\n<ul>\\n<li><a href=\\"https://docs.spring.io/spring-boot/3.3/api/java/org/springframework/boot/test/web/client/TestRestTemplate.html\\" target=\\"_blank\\" rel=\\"noreferrer\\">TestRestTemplate DOCS</a></li>\\n</ul>\\n","frontmatter":{"title":"ThreadLocal ì˜¤ì—¼ ë¬¸ì œë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ë‹¤","description":"ThreadLocal ì‚¬ìš© ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì˜¤ì—¼ ë¬¸ì œë¥¼ í†µí•© í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦í•˜ê³  ë„ì…ì„ ë³´ë¥˜í•œ ì´ìœ ","date":"2026-01-16T00:35:00.000Z","categories":["test"],"tags":["Java","ThreadLocal","Testing","Concurrency"]},"excerpt":"","url":"/posts/threadlocal-pollution-test/"},{"html":"<h1 id=\\"mockito-á„‹á…¥á†¹á„‹á…µ-á„‰á…®á†«á„‰á…®-java-á„…á…©-aop-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-á„ƒá…¡á†«á„‹á…±-á„á…¦á„‰á…³á„á…³á„…á…³á†¯-á„Œá…µá†«á„’á…¢á†¼á„’á…¢á„‡á…©á„‹á…¡á†»á„ƒá…¡\\" tabindex=\\"-1\\">Mockito ì—†ì´ ìˆœìˆ˜ Java ë¡œ AOP ì— ëŒ€í•´ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤. <a class=\\"header-anchor\\" href=\\"#mockito-á„‹á…¥á†¹á„‹á…µ-á„‰á…®á†«á„‰á…®-java-á„…á…©-aop-á„‹á…¦-á„ƒá…¢á„’á…¢á„‰á…¥-á„ƒá…¡á†«á„‹á…±-á„á…¦á„‰á…³á„á…³á„…á…³á†¯-á„Œá…µá†«á„’á…¢á†¼á„’á…¢á„‡á…©á„‹á…¡á†»á„ƒá…¡\\" aria-label=\\"Permalink to &quot;Mockito ì—†ì´ ìˆœìˆ˜ Java ë¡œ AOP ì— ëŒ€í•´ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤.&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­-æ¦‚è¦\\" tabindex=\\"-1\\">ê°œìš”( æ¦‚è¦ ) <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­-æ¦‚è¦\\" aria-label=\\"Permalink to &quot;ê°œìš”( æ¦‚è¦ )&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>í•„ìëŠ” Spring Security ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , User Role ì— ë”°ë¼ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” Method ë¥¼ ë¶„ë¦¬í•˜ê³  ì‹¶ì—ˆë‹¤.</p>\\n<p>User Role ì— ë”°ë¥¸ ì‹¤í–‰ ê°€ëŠ¥í•œ Method ì˜ ë¶„ë¦¬ë¥¼ ìƒê°í–ˆì„ ë•Œ, Controller Layer ì—ì„œ ìš”ì²­ìœ¼ë¡œ ì „ë‹¬ë°›ì€ Token ì˜ ë¶„í•´ì™€ í•´ë‹¹ Token ì˜ Claims ì— í¬í•¨ë˜ì–´ìˆëŠ” Role ì„ ê°€ì ¸ì™€ì•¼ëë‹¤.</p>\\n<p>ì—¬ê¸°ì—ì„œ ë„ì¶œëœ ë‚´ ê³ ë¯¼ì€ &quot;ê³¼ì—° ì´ Logicì´ Controller Layer ì— ìˆì–´ì•¼ë˜ë‚˜?&quot; ë¼ëŠ” ê³ ë¯¼ì´ì—ˆë‹¤.</p>\\n<p>ê²€ì¦ì— ê´€ë ¨ëœ ë¡œì§ì€ Security ë„ë©”ì¸ì—ì„œ ê´€ë¦¬í•˜ê²Œ ì„¤ì •í•˜ê³  ì‹¶ì—ˆê³ , ì´ì— ë”°ë¼ Annotation ìœ¼ë¡œ ê´€ë¦¬í•˜ìëŠ” ê²°ë¡ ì„ ë‚´ë¦¬ê²Œ ë˜ì—ˆë‹¤.</p>\\n<p>Annotation ìœ¼ë¡œ ê´€ë¦¬ë¥¼ í•˜ì—¬ì„œ, HandlerMethodArgumentResolver ë¡œ ë”°ë¡œ ë¹¼ë‚´ëŠ” ìƒê°ì„ 1ì°¨ì ìœ¼ë¡œ í•˜ì˜€ëŠ”ë°, ê·¸ë ‡ê²Œ í•  ê²½ìš°, Parameter ì— ë¬´ì˜ë¯¸í•œ ê°’ì„ ê°€ì ¸ì˜¬ ê°€ëŠ¥ì„±ì´ ìˆì—ˆë‹¤.</p>\\n<p>ë”°ë¼ì„œ ì´ë¥¼ AOP ë¡œ ì‘ì„±í•˜ë©´ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë„ ë  ë¿ ë”ëŸ¬, ì—¬ëŸ¬ ë°©ë©´ìœ¼ë¡œ ì‚¬ìš©ë  ê°€ì¹˜ê°€ ìˆì„ ê±°ë¼ëŠ” íŒë‹¨í•˜ì— AOP ë¥¼ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\\n<p>í•˜ì§€ë§Œ í•„ìëŠ” AOP ë¥¼ ì²˜ìŒ ì‘ì„±í•´ë³´ê¸°ë„ í•˜ì˜€ê³ , ì´ë•Œê¹Œì§€ AOP ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì´ìš©í•´ë³¸ ê²½í—˜ì´ ë§ì´ ì—†ì—ˆë‹¤..ğŸ˜­</p>\\n<p>ê°™ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” íŒ€ì›ë“¤ì—ê²Œ í•„ìê°€ ì‘ì„±í•œ Logic ì— ëŒ€í•´ì„œ ì‹ ë¢°ë¥¼ ì–»ê¸° ìœ„í•´ Test ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ëŒ€ë¶€ë¶„ì˜ ì˜ˆì œë“¤ì€ Mockito ë‚˜ @SpringBootTest ë¥¼ ì´ìš©í•˜ì—¬ í†µí•©í…ŒìŠ¤íŠ¸ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>ì´ ê³¼ì •ì€ Test ê°€ ëŠë ¤ì§ˆ ë¿ ë”ëŸ¬, Jobmanri í”„ë¡œì íŠ¸ëŠ” JDBC Repository ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´, í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ ë§ì•„ ì‚¬ìš©í•˜ê¸° êº¼ë ¤ì¡Œë‹¤..\\n( ê¸°ì™•ì´ë©´ ìµœëŒ€í•œ í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œë§Œ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ì‹¶ì€ í•„ìì˜ ìš•ì‹¬ì´ ì¡°ê¸ˆ ë‹´ê²¨ìˆìŒ. )</p>\\n<p>ë”°ë¼ì„œ Insight ë¥¼ ì°¾ì•„ë³´ë˜ ì¤‘, ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ì„œ Aspect ë¥¼ í…ŒìŠ¤íŠ¸í•œ ë¬¸ì„œê°€ ìˆì–´, í•´ë‹¹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼-å†…å®¹\\" tabindex=\\"-1\\">ë‚´ìš©ï¼ˆå†…å®¹ï¼‰ <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼-å†…å®¹\\" aria-label=\\"Permalink to &quot;ë‚´ìš©ï¼ˆå†…å®¹ï¼‰&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì œëª©ì´ Mockito ì—†ì´ ìˆœìˆ˜ Java ë¡œ AOP ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤ê³  í•´ë†¨ëŠ”ë°, êµ¬ì²´ì ìœ¼ë¡œ SpringBootTest ë˜í•œ ì§„í–‰í•˜ì§€ ì•Šì•˜ë‹¤.</p>\\n<p>ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰í•  ìˆ˜ ìˆì—ˆë˜ ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>\\n<ol>\\n<li>Bean ì´ë‚˜ JPA ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥</li>\\n<li>Java ì— ê¸°ì¡´ ë‚´ì¥ë˜ì–´ ìˆëŠ” RequestContext ë¥¼ ì´ìš©í•œ ê¸°ëŠ¥ íƒ‘ì¬</li>\\n</ol>\\n<p>í•´ë‹¹ ê¸€ì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œ Jobmanri ì˜ @PreAuthorize ê°€ ì–´ë–¤ Flow ë¡œ ì§„í–‰ë˜ëŠ” ì§€ ì•Œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ AI ë¥¼ í†µí•´ì„œ í”Œë¡œìš°ë§Œ ë§›ë³´ê¸°ë¡œ ë³´ë„ë¡ í•˜ì.\\n<img src=\\"https://github.com/user-attachments/assets/594911bd-5a65-401d-8dd2-bb628f31d2ac\\" alt=\\"aop-flow-diagram\\"></p>\\n<p>ìœ„ì—ì„œ AOP ê°€ ì–´ë–»ê²Œ ì ìš©ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì—ˆìœ¼ë¯€ë¡œ, êµ¬ì²´ì ì¸ ë¡œì§ì— ë“¤ì–´ê°€ì.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Around</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"@annotation(preAuthorize)\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Object </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">checkRoleForAuthorize</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ProceedingJoinPoint proceedingJoinPoint,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        PreAuthorize preAuthorize) throws Throwable {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ServletRequestAttributes attrs </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    HttpServletRequest request </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> attrs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    AuthInfo authInfo </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getAuthInfo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">    userRoleVerification</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(authInfo, preAuthorize.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">role</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> proceedingJoinPoint.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">proceed</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ì˜ ë¡œì§ì„ ë³´ë©´, Test ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, ServletRequest ì— ëŒ€í•´ì„œ ì ‘ê·¼í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\\n<p>ê·¸ë˜ì„œ í•´ë‹¹ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” ServletRequest ì„ êµ¬í˜„í•´ì•¼ë§Œí•˜ëŠ” ë‹¨ì ì´ ìˆì—ˆë‹¤.\\nì•„ë§ˆ ServletRequest Interface ë¥¼ í™•ì¸í•˜ë©´, ê½¤ë‚˜ ë§ì€ Method ë¥¼ êµ¬í˜„í•´ì•¼í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°,,\\n<img width=\\"1039\\" height=\\"559\\" alt=\\"image\\" src=\\"https://github.com/user-attachments/assets/786b4b8e-803f-4019-bf54-5fdac0d6c3e2\\" /></p>\\n<p>ì´ë¥¼ ë‹¤ êµ¬í˜„í•˜ëŠ” ê²ƒ ë˜í•œ ë°©ë²•ì´ê² ì§€ë§Œ, ê·¸ë ‡ê²Œ ë˜ë©´ Test ì½”ë“œì— ëŒ€í•´ì„œ ë§ì€ ì‹œê°„ì„ íˆ¬ìí•˜ê²Œ ëœë‹¤.. ( ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°ì—ë„ ë°”ìœë°,,ğŸ«  )</p>\\n<p>ë”°ë¼ì„œ ServletRequest ì¸ìŠ¤í„´ìŠ¤ ì—­í• ì„ í•˜ëŠ” Proxy ê°ì²´ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì œì‘í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.\\nì™œëƒí•˜ë©´ í•„ìš”í•œ MethodëŠ” attributes ë¥¼ ì„¤ì •í•˜ê³ , ê°€ì ¸ì˜¤ëŠ” ê²ƒ, ê·¸ë¦¬ê³  Header ì— ë“¤ì–´ìˆëŠ” Authorization ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•¨ì´ê¸° ë•Œë¬¸ì´ë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> jakarta.servlet.http.HttpServletRequest;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.lang.reflect.Proxy;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.HashMap;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">import</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.util.Map;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> TestHttpRequestServlet</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> HttpServletRequest </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">createFakeRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">token</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Map&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Object</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> attributes </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> HashMap&#x3C;>();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Map&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> headers </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> HashMap&#x3C;>();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        headers.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">put</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Authorization\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"Bearer \\"</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> +</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> token);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (HttpServletRequest) Proxy.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">newProxyInstance</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                TestHttpRequestServlet.class.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getClassLoader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> Class</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{HttpServletRequest.class},</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                (proxy, method, args) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-></span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    String methodName </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> method.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (methodName.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">equals</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"getHeader\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                        String headerName </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (String) args[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">];</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> headers.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">get</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(headerName);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (methodName.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">equals</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"setAttribute\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                        attributes.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">put</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">((String) args[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">], args[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">]);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                        return</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (methodName.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">equals</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"getAttribute\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> attributes.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">get</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(args[</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">0</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">]);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">                    return</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        );</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì´ë ‡ê²Œ Fake Reqeust Servlet ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì•„ë˜ì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.</p>\\n<ul>\\n<li>JwtTokenProvider / JwtTokenCommandAdaptor ì˜ ê²½ìš°, í† í°ì„ ì œì‘í•˜ëŠ”ë°ì— í•„ìš”í•˜ì—¬ ì‘ì„±.\\n<ul>\\n<li>ì‹¤ì œ Aspect ëŠ” Request ì— ë“¤ì–´ìˆëŠ” Token ìœ ë¬´ë¥¼ íŒë‹¨í•´ì„œ ì˜ˆì™¸ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì´ë‹¤!!</li>\\n</ul>\\n</li>\\n</ul>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">DisplayName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"PreAuthorize Annotation Aspect í†µí•© í…ŒìŠ¤íŠ¸\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> PreAuthorizeAspectTest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> PreAuthorizeAspect preAuthorizeAspect </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> PreAuthorizeAspect</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">AfterEach</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> tearDown</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        RequestContextHolder.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">resetRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Nested</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">DisplayName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ê¶Œí•œì´ ì¼ì¹˜í•  ê²½ìš°, ë©”ì„œë“œë“¤ ì‹¤í–‰\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AuthorizeSuccess</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Test</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">DisplayName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ê¶Œí•œì´ ì¼ì¹˜í•  ê²½ìš°\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> success</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Throwable {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // * When</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            JwtTokenProvider provider </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> TestTokenProvider.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getProvider</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            JwtTokenCommandAdaptor commandAdaptor </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> JwtTokenCommandAdaptor</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(provider);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            Long id </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1L</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            UserRole role </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> UserRole.ADMIN;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            String resultMessage </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"Target Method Executed\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            String token </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> commandAdaptor.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">publishToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">                    TokenType.ACCESS, id, role);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            HttpServletRequest request </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> TestHttpRequestServlet.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">createFakeRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(token);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            request.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setAttribute</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(JwtUtils.CLAIMS_KEY, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AuthInfo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(id, role));</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            RequestContextHolder.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> ServletRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request));</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // * Aspect ë¡œì§ ìˆ˜í–‰</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì¶”ê°€ì ìœ¼ë¡œ Aspect ì— ë“¤ì–´ê°€ëŠ” Parameter ì¸ <strong>ProceedingJoinPoint</strong> ì™€ <strong>PreAuthorize</strong> ì–´ë…¸í…Œì´ì…˜ì„ ì „ë‹¬í•´ì£¼ê¸° ìœ„í•´ì„œ ì´ë“¤ì— ëŒ€í•œ Fake ê°ì²´ ë˜í•œ ë§Œë“¤ì–´ì¤˜ì•¼í–ˆë‹¤.</p>\\n<p>PreAuthorize ì™€ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì— ëŒ€í•´ì„œ Fake ê°ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ê¸° ìœ„í•´ì„œëŠ” Annotation ë˜í•œ interface ì´ê¸°ì—, Proxy ê°ì²´ë¡œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ”  ë°©ë²•ë°–ì— ë– ì˜¤ë¥´ì§€ ì•Šì•˜ë‹¤. ( ì´ì— ëŒ€í•´ì„œ ë§Œì•½ ê°œì„ ì ì´ í•„ìš”í•  ê²ƒ ê°™ì€ ê¸°ë¶„...ğŸ«  )</p>\\n<p>ë˜í•œ ProceedingJoinPoint interface ë„ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼í–ˆê¸°ì— Proxy ë¡œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ì£¼ê¸°ë¡œ ê²°ì‹¬í•˜ì˜€ë‹¤.</p>\\n<ul>\\n<li>ì´ ë¶€ë¶„ì€ ê¸€ì´ ê¸¸ì–´ì§ˆê±°ë¼ ìƒê°í•˜ì—¬, ì½”ë“œë¥¼ ì°¸ê³ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.</li>\\n</ul>\\n<p>ë”°ë¼ì„œ ì•„ë˜ì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// * When</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">PreAuthorize fakeAnnotation </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> FakePreAuthorize.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">createFakePreAuthorize</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ADMIN\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">ProceedingJoinPoint fakeJoinPoint </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> FakeJoinPoint.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">createFakeJoinPoint</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        () </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-></span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> resultMessage);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">Object result </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> preAuthorizeAspect.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">checkRoleForAuthorize</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(fakeJoinPoint, fakeAnnotation);</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// * Then</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">assertThat</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(result).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">isEqualTo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(resultMessage);</span></span></code></pre>\\n</div><p>ë§ˆì§€ë§‰ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ì•˜ì„ ë•Œ, ì•„ë˜ì²˜ëŸ¼ ì„±ê³µí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\\n<img width=\\"1472\\" height=\\"243\\" alt=\\"image\\" src=\\"https://github.com/user-attachments/assets/6404d4e3-ca47-4d87-b559-5eeb40d009f6\\" />\\n<p>ì—¬ê¸°ì—ì„œ ì†ë„ëŠ” 175ms ë¡œ ë‚˜ì™€ìˆëŠ”ë°, ë‹¤ë¥¸ í†µí•©í…ŒìŠ¤íŠ¸ì— ë¹„í•´ì„œ ì†ë„ë¥¼ ë¹„êµí•´ë³´ë©´ 4ë°°ì •ë„ ë¹ ë¥¸ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\\n<img width=\\"1472\\" height=\\"243\\" alt=\\"image\\" src=\\"https://github.com/user-attachments/assets/0667877d-474e-46fb-b9ae-201e57d61e88\\" /></p>\\n<p>ì—„ì²­ë‚˜ê²Œ ë“œë¼ë§ˆí‹±í•œ ë³€í™”ëŠ” ì•„ë‹ˆì§€ë§Œ, í†µí•©í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì§€ì•Šê³ , ìˆœìˆ˜ Javaë¡œë§Œ Test Code ë¥¼ ì‘ì„±í•´ë³¸ ê²ƒì— ëŒ€í•´ì„œ ì˜ì˜ë¥¼ ë‘ê³ , ì´ í¬ìŠ¤íŒ…ì„ ë§ˆì¹˜ê³ ì í•œë‹¤.</p>\\n<h2 id=\\"reference\\" tabindex=\\"-1\\">Reference <a class=\\"header-anchor\\" href=\\"#reference\\" aria-label=\\"Permalink to &quot;Reference&quot;\\">&ZeroWidthSpace;</a></h2>\\n<ul>\\n<li><a href=\\"https://junhyunny.github.io/spring-boot/test-driven-development/improve-feign-client-aop-test/\\" target=\\"_blank\\" rel=\\"noreferrer\\">ğŸš€ AOP ë‹¨ìœ„í…ŒìŠ¤íŠ¸ ë ˆí¼ëŸ°ìŠ¤ì…ë‹ˆë‹¤.</a></li>\\n</ul>\\n","frontmatter":{"title":"Mockito ì—†ì´ ìˆœìˆ˜ Java ë¡œ AOP ì— ëŒ€í•´ì„œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤.","description":"Mockitoë‚˜ SpringBootTest ì—†ì´ ìˆœìˆ˜ Javaì™€ Proxyë¥¼ í™œìš©í•˜ì—¬ AOP ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œ ê²½í—˜ê³¼ ë°©ë²• ê³µìœ ","date":"2026-01-16T00:00:00.000Z","categories":["test"],"tags":["Java","AOP","Testing","Unit Test"]},"excerpt":"","url":"/posts/aop-unit-test-without-mockito/"},{"html":"<h1 id=\\"golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚™ãƒ¼ã‚¿ãƒ˜ã‚™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜\\" tabindex=\\"-1\\">Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜ <a class=\\"header-anchor\\" href=\\"#golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚™ãƒ¼ã‚¿ãƒ˜ã‚™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜\\" aria-label=\\"Permalink to &quot;Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"æ¦‚è¦\\" tabindex=\\"-1\\">æ¦‚è¦ <a class=\\"header-anchor\\" href=\\"#æ¦‚è¦\\" aria-label=\\"Permalink to &quot;æ¦‚è¦&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>é–‹ç™ºã‚’ã—ãªãŒã‚‰ã€Domain Schemaã«å¯¾ã—ã¦ä¿®æ­£ãŒå…¥ã‚‹æ™‚ã«Table Schemaå¤‰æ›´ãŒèµ·ãã‚‹çŠ¶æ³ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\\nTest Fileã§ã¯ã‚ˆãä½œå‹•ã§ãã¾ã™ãŒã€æœ¬ç•ªDBã®æ™‚ã«ã¯å‹æ‰‹ã«Table Schemaã‚’å¤‰æ›´ã§ããªã„ã®ã§DB Migrationã‚’å°å…¥ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚\\nä¸€å›ãƒ‡ãƒ¼ã‚¿ã‚’æŒã£ã¦ã„ã‚‹çŠ¶æ³ã§ã®Table Schemaå¤‰æ›´ã¯ãƒªã‚¹ã‚¯ãŒé«˜ãé™ç•ŒãŒã‚ã‚‹ã¨æ„Ÿã˜ãŸã‹ã‚‰ã§ã™ã€‚\\nãªã®ã§DBã«å¯¾ã—ã¦Versionç®¡ç†ã‚’ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚</p>\\n<h2 id=\\"å†…å®¹\\" tabindex=\\"-1\\">å†…å®¹ <a class=\\"header-anchor\\" href=\\"#å†…å®¹\\" aria-label=\\"Permalink to &quot;å†…å®¹&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ç¾åœ¨è‡ªåˆ†ãŒå€‹äººé–‹ç™ºã—ã¦ã„ã‚‹ã€ŒGAMERSã€ã¯Goã€DiscordGo Libraryã‚’åˆ©ç”¨ã—ã¦ã€ãƒœãƒƒãƒˆã¨WASã¨ã®Micro Service Architectureå½¢ã§æŒ‘æˆ¦ã—ã¦ã¾ã™ã€‚\\nã“ã“ã§Goã§ã®Migrationã¯golang-migrateã®migrate Libraryã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\\né–‹ç™ºã‚’é€²ã¿ãªãŒã‚‰ã€è‡ªåˆ†ã®ãƒŸã‚¹ã§Passwordã®ã‚¹ã‚­ãƒ¼ãƒæ¡ä»¶ãŒVARCHAR(16)ã¨ã—ã¦è¨­å®šã•ã‚Œã€æš—å·åŒ–ã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¿å­˜ã§ããªã„çŠ¶æ³ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\\nã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚‚ã†ä¸€åº¦ä½œã‚‹ã®ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€æœ¬ç•ªDBãŒã‚ã£ãŸã®ã§ãã®DBã‚‚å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚\\nãªã®ã§ã“ã‚Œã‚’Version 2ã¨ã—ã¦å¤‰æ›´äº‹é …ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\\ngolangã®migrateã¯Flywayã¨é•ã£ã¦ã€Versionã¥ã¤ Up, Down SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒã€è‡ªåˆ†ã¨ã—ã¦ã©ã†ã‚„ã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚„ã€ãƒ€ã‚¦ãƒ³ã•ã‚Œã‚‹ã®ã‹ã™ãè¦‹ãˆã¦ç†è§£ã—ã‚„ã™ã‹ã£ãŸã§ã™ã€‚\\nå¾Œã§ã¯Makefileã§DB Versionç®¡ç†ã«åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€ä»Šå¾Œãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒå…¥ã£ã¦ããŸæ™‚ä¾¿åˆ©ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†æ›¸é¡åŒ–ã—ã¾ã—ãŸã€‚</p>\\n<div class=\\"language-makefile vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">makefile</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-up</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Run all pending migrations</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"ğŸ”„ Running migrations...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" up</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-down</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Rollback last migration</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"âª Rolling back last migration...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" down 1</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-down-all</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Rollback all migrations</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"âª Rolling back all migrations...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">read -p \\"Are you sure? [y/N] \\" -n 1 -r; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\techo; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tif [[ </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">$$</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">REPLY =~ ^[Yy]</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">$$</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ]]; then </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" down -all; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tfi</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-create</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Create new migration (usage: make migrate-create name=create_users_table)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">if [ -z \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">name</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" ]; then </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\techo \\"âŒ Error: name parameter is required\\"; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\techo \\"Usage: make migrate-create name=create_users_table\\"; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\texit 1; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tfi</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"ğŸ“ Creating migration: </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">name</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate create -ext sql -dir </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -seq </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">name</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-version</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Show current migration version</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">migrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" version</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-force</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Force set migration version (usage: make migrate-force version=1)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">if [ -z \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">version</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" ]; then </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\techo \\"âŒ Error: version parameter is required\\"; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\techo \\"Usage: make migrate-force version=1\\"; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\t\\texit 1; </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">\\\\</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tfi</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"âš ï¸ Forcing migration version to </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">version</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" force </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">version</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-up-docker</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Run migrations in Docker environment</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"ğŸ”„ Running migrations (Docker)...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" up</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-down-docker</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Rollback migration in Docker environment</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">echo \\"âª Rolling back migration (Docker)...\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\tmigrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" down 1</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">migrate-version-docker</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">: </span><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">## Show migration version in Docker</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">\\t@</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">migrate -path </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">MIGRATIONS_PATH</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> -database \\"</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">$(</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">DB_URL</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">)</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">\\" version</span></span></code></pre>\\n</div><p>è‡ªåˆ†ã¯ä»Šç¾åœ¨Dockerfileã§Deployã—ã¦ã„ã¾ã™ã®ã§Dockerã‚’é€šã˜ã¦MigrateãŒã§ãã‚‹ã‚ˆã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ã¨ãã¾ã—ãŸã€‚\\næœ€å¾Œã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸå¾Œã®çµæœã€ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚ŒãŸã®ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\\n<h2 id=\\"çµè«–\\" tabindex=\\"-1\\">çµè«– <a class=\\"header-anchor\\" href=\\"#çµè«–\\" aria-label=\\"Permalink to &quot;çµè«–&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>å®Ÿéš›æœ¬ç•ªDBã«ä½¿ã†ãŸã‚ã«Migrateã‚’é©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸãŒã€Migrateã‚’çŸ¥ã‚‹å‰ã¾ã§ã¯æœ¬ç•ªDBã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¤‰ãˆã‚‹æ™‚ãŒå¤šã‹ã£ãŸã®ã§ã™ã€‚\\nã ãŒéŸ“å›½ã®å¤§å­¦ã§GDGoCæ´»å‹•ã‚’ã‚„ã‚ŠãªãŒã‚‰ã“ã®ã‚ˆã†ãªè¡Œç‚ºãŒå±ãªã„ã“ã¨ãªã®ã‚’èªçŸ¥ã—ã¦åˆã‚ã¦å°å…¥ã—ã¦ã¿ã¾ã—ãŸãŒã€é–‹ç™ºã™ã‚‹æ™‚ã‚‚ä¾¿åˆ©ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ†åˆ¥ã™ã‚‹ã“ã¨ãŒã§ãã¦æ¥½ã«é–‹ç™ºãŒã§ãã¾ã—ãŸã€‚\\nä»Šã¾ã§ã¯ç°¡å˜ãªMigrateã ã‘ã§ã—ãŸãŒã€ã‚‚ã£ã¨ã‚µãƒ¼ãƒ“ã‚¹ãŒå¤§ãããªã£ã¦ä¿®æ­£äº‹é …ãŒå¤šããªã£ãŸæ™‚ã«ã©ã†ã‚„ã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ†ã‘ã‚‹ã®ã‹ã‚’å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\\n","frontmatter":{"title":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜","description":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜ MySQL","date":"2026-01-14T03:35:00.000Z","categories":["DB"],"tags":["Go","MySQL","DB","Migrate","Japanese"]},"excerpt":"","url":"/posts/golang-migrate-history/"},{"html":"<h1 id=\\"tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤«\\" tabindex=\\"-1\\">Tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤« <a class=\\"header-anchor\\" href=\\"#tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤«\\" aria-label=\\"Permalink to &quot;Tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤«&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"ãƒ†ã‚¯ã‚¹ã‚¿ãƒƒã‚¯\\" tabindex=\\"-1\\">ãƒ†ã‚¯ã‚¹ã‚¿ãƒƒã‚¯ <a class=\\"header-anchor\\" href=\\"#ãƒ†ã‚¯ã‚¹ã‚¿ãƒƒã‚¯\\" aria-label=\\"Permalink to &quot;ãƒ†ã‚¯ã‚¹ã‚¿ãƒƒã‚¯&quot;\\">&ZeroWidthSpace;</a></h2>\\n<ul>\\n<li>Java 21</li>\\n<li>Java SpringBoot 3.5.6</li>\\n<li>MySQL 8.0</li>\\n</ul>\\n<h2 id=\\"æ¦‚è¦\\" tabindex=\\"-1\\">æ¦‚è¦ <a class=\\"header-anchor\\" href=\\"#æ¦‚è¦\\" aria-label=\\"Permalink to &quot;æ¦‚è¦&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ã‚ã‚‹æ—¥ã€è‡ªåˆ†ãŒã‚„ã£ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰Tokenæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ„ã‚“ã§æ¬²ã—ã„ã¨ã„ã†è¦æ±‚ã‚’è²°ã„ã¾ã—ãŸã€‚\\nå½“æ™‚è‡ªåˆ†ã¯<strong>HandlerMethodArgumentResolver</strong>ã‚’ä½¿ã£ã¦ã€Annotationã§ã®Member IDã‚’æŒã£ã¦ãã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">HandlerMethodArgumentResolver</span></span></code></pre>\\n</div><p>ãã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’PRã§é€ã£ã¦ã‚³ãƒ¡ãƒ³ãƒˆã‚’è²°ã„ã¾ã—ãŸãŒã€ã‚³ãƒ¡ãƒ³ãƒˆã§ã¯ä¸‹ã®ã‚ˆã†ãªè¨€è‘‰ãŒã‚ã‚Šã¾ã—ãŸã€‚\\nã€Œã‚‚ã—æ¤œè¨¼ã®ãŸã‚ã«ã¯çµ¶å¯¾ã«Member IDã‚’å—ã‘å–ã‚‹å¤‰æ•°ã‚’è¨­å®šã—ãªã„ã¨ãƒ€ãƒ¡ã§ã™ã‹ï¼Ÿä»–ã®æ–¹æ³•ã¯ãªã„ã‚“ã§ã™ã‹ï¼Ÿã€\\nã“ã‚Œã‚’èã„ã¦ã€ä»Šã¾ã§ç„¡æ„è­˜ã§<strong>HandlerMethodArgumentResolver</strong>ã‚’ä½¿ã£ã¦ã„ãŸã“ã¨ã‚’æ°—ã¥ã„ã¦Refactoringã‚’ã‚„ã‚Šã¾ã—ãŸã€‚</p>\\n<p>ã“ã®ãƒãƒ¼ã‚¹ãƒˆã¯å½“æ™‚Refactoringã§ã®è‡ªåˆ†ã®è€ƒãˆã‚’ä½œæˆã—ã¾ã™ã€‚\\nãã—ã¦ä¸‹ã®ã‚ˆã†ã«ãƒ†ãƒ¼ãƒã‚’æ±ºã‚ã¦è©±ã—ã¦ã„ã“ã†ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã€‚</p>\\n<ol>\\n<li>ãªãœHandlerMethodArgumentResolverã§ä½œã£ãŸã®ã‹</li>\\n<li>è‡ªåˆ†ã®è€ƒãˆ</li>\\n</ol>\\n<h2 id=\\"_1-ãªã›ã‚™handlermethodargumentresolverã¦ã‚™æ¤œè¨¼ã—ãŸã®ã‹\\" tabindex=\\"-1\\">1. ãªãœHandlerMethodArgumentResolverã§æ¤œè¨¼ã—ãŸã®ã‹ <a class=\\"header-anchor\\" href=\\"#_1-ãªã›ã‚™handlermethodargumentresolverã¦ã‚™æ¤œè¨¼ã—ãŸã®ã‹\\" aria-label=\\"Permalink to &quot;1. ãªãœHandlerMethodArgumentResolverã§æ¤œè¨¼ã—ãŸã®ã‹&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ã¾ãš<strong>HandlerMethodArgumentResolver</strong>ã‚’ä½¿ã£ã¦æ¤œè¨¼ã—ãŸç†ç”±ã¯SpringBootã‚’ä½¿ã£ã¦Applicationã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½œæˆã—ãªãŒã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®é€£é–¢é–¢ä¿‚ãŒã‚ã£ãŸã‹ã‚‰ã§ã™ã€‚</p>\\n<p>è‡ªåˆ†ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯Contestã¨è¨€ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚\\nã“ã®Contestã¨è¨€ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸­ã§ã¯é–‹å‚¬è€…ã¨ã„ã†Contestã‚’ä½œã£ãŸäººã®æƒ…å ±ã‚’å…¥ã‚Œã‚Œã‚‹ColumnãŒã‚ã‚Šã¾ã™ã€‚\\nãªã®ã§ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’å…¥ã‚Œã‚‹ãŸã‚ã«Controllerã‹ã‚‰Member IDã‚’ã‚‚ã‚‰ã£ã¦é€£é–¢é–¢ä¿‚ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«<strong>HandlerMethodArgumentResolver</strong>ã‚’ä½¿ã„ã¾ã—ãŸã€‚</p>\\n<p>ã“ã“ã¾ã§ã¯åˆç†çš„ã ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ã“ã®<strong>HandlerMethodArgumentResolver</strong>ã®Methodä¸­ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’åˆ†è§£ã—ã¦ãã®ä¸­èº«ã‹ã‚‰IDã‚’Parsingã—ã¦ãã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã§çµ„ã‚“ã§ã„ãŸã“ã¨ãŒæ°—ã«ãªã‚Šã¾ã—ãŸã€‚</p>\\n<h2 id=\\"_2-è‡ªåˆ†ã®è€ƒãˆ\\" tabindex=\\"-1\\">2. è‡ªåˆ†ã®è€ƒãˆ <a class=\\"header-anchor\\" href=\\"#_2-è‡ªåˆ†ã®è€ƒãˆ\\" aria-label=\\"Permalink to &quot;2. è‡ªåˆ†ã®è€ƒãˆ&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ä¾‹ã¯Java SpringBootã§èª¬æ˜ã—ã¾ã™ã€‚\\nJava SpringBootã‚’ä½¿ã£ã¦ã¿ãŸäººã¯Jwt Tokenã‚’ <strong>HandlerMethodArgumentResolver</strong> ã§åˆ†è§£ã—ã¦ä¸­ã®æƒ…å ±ã‚’å¾—ã‚‹æ„Ÿã˜ã§ä½¿ã£ã¦ããŸã‚“ã ã¨æ€ã„ã¾ã™ã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Component</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> ArgumentResolver</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> implements</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> HandlerMethodArgumentResolver</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Override</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> boolean</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> supportsParameter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(MethodParameter </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">parameter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> parameter.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">hasParameterAnnotation</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">([Annotation_Name].class);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Override</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Object </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">resolveArgument</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(MethodParameter </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">parameter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, ModelAndViewContainer </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">mavContainer</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, NativeWebRequest </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">webRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, WebDataBinderFactory </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">binderFactory</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Exception {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        HttpServletRequest httpServletRequest </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> webRequest.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getNativeRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpServletRequest.class);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (httpServletRequest </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        /*</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        * èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        */</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ã‚‚ã¡ã‚ã‚“ã“ã®æ–¹æ³•ã‚‚ã„ã„æ–¹æ³•ã ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ãŒã€ã‚‚ã—è‡ªåˆ†ãŒä¸­ã®æƒ…å ±ãŒè¦ã‚‰ãªãšãŸã è‡ªåˆ†ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ä¼šå“¡ç™»éŒ²ã—ãŸäººã ã‘ãŒAPIã‚’ä½¿ã£ã¦æ¬²ã—ã„Methodã‚‚ã‚ã‚‹æ™‚ã«å¿…è¦ãªã„æƒ…å ±ã‚’å¼·åˆ¶çš„ã«Parameterã§å—ã‘ã¦ã„ã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚\\nãã—ã¦ä¸€ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§å¤šãã®è²¬ä»»ãŒå…¥ã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚\\nãªã®ã§ã“ã‚Œã‚’è§£æ±ºã™ã‚‹æ–¹æ³•ã‚’æ¨¡ç´¢ã—ãŸçµæœã€Filterã¨AOPã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p>\\n<h3 id=\\"filterè¿½åŠ \\" tabindex=\\"-1\\">Filterè¿½åŠ  <a class=\\"header-anchor\\" href=\\"#filterè¿½åŠ \\" aria-label=\\"Permalink to &quot;Filterè¿½åŠ &quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ãªãœFilterã‚’è¿½åŠ ã—ãŸã‹ã¨ã„ã†ã¨ã€æ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ã¯å…ˆã»ã©è¨€ã£ãŸ<strong>HandlerMethodArgumentResolver</strong>ã®ä¸­ã§Jwt TokenãŒæœ‰åŠ¹ãªã®ã‹ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒå¿…è¦ã§ã—ãŸã€‚</p>\\n<p>ã“ã‚ŒãŒResolverã®Methodã®ä¸­ã«å…¥ã£ã¦ã„ã‚‹ã“ã¨ã§ã“ã®Methodã¯Jwt Tokenåˆ†è§£ã€Jwt Tokenæœ‰åŠ¹æ¤œè¨¼ã®è²¬ä»»ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\\nãªã®ã§ã“ã®è²¬ä»»ã®åˆ†æ•£ã®ãŸã‚ã«Filterã‚’ä½¿ã„ã€Headerã«å…¥ã£ã¦ãã‚‹TokenãŒæœ‰åŠ¹ãªã®ã‹ã‚’æ¤œè¨¼ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’Applicationã®Controllerãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å…¥ã£ã¦ãã‚‹å‰ã«å‡¦ç†ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Component</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">RequiredArgsConstructor</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> JwtTokenRequestFilter</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> extends</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> OncePerRequestFilter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] WHITE_LIST </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/api/v1/users\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/api/v1/auth/login\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"/css/*\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">};</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> JwtValidator jwtValidator;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Override</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    protected</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> doFilterInternal</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpServletRequest </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">request</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, HttpServletResponse </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">response</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, FilterChain </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">filterChain</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ServletException, IOException {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        String token </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> JwtUtils.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">resolveToken</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getHeader</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpHeaders.AUTHORIZATION)).</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">orElse</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">filterValidate</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request, token)) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            filterChain.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">doFilter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request, response);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        try</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            Jws&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Claims</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> claims </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> jwtValidator.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">validate</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(TokenType.ACCESS, token);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            request.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setAttribute</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(JwtUtils.CLAIMS_KEY, AuthInfo.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">from</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(claims));</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            filterChain.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">doFilter</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request, response);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">catch</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (JwtException </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">e</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            response.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">sendError</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpServletResponse.SC_UNAUTHORIZED, ErrorCode.INVALID_TOKEN.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getMessage</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> boolean</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> filterValidate</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpServletRequest </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">request</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">token</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> isWhiteList</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getRequestURI</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">||</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> token </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> boolean</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> isWhiteList</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">requestURL</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> PatternMatchUtils.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">simpleMatch</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(WHITE_LIST, requestURL);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ä¸Šã®Methodã¯<strong>OncePerRequestFilter</strong>ã¨ã„ã†interfaceã‚’implementã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯èªè¨¼ã¨ã„ã†å‹•ä½œã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸€å€‹ãšã¤ä¸€å›ã ã‘å¿…è¦ãªä½œæ¥­ãªã®ã§Filterã‚’é‡ãªã‚ŠãªãŒã‚‰å‹•ä½œã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„å±é™ºæ€§ã‚’äºˆå ±ã—ã¾ã—ãŸã€‚</p>\\n<h3 id=\\"aopã®ä½¿ç”¨\\" tabindex=\\"-1\\">AOPã®ä½¿ç”¨ <a class=\\"header-anchor\\" href=\\"#aopã®ä½¿ç”¨\\" aria-label=\\"Permalink to &quot;AOPã®ä½¿ç”¨&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ãã—ã¦å…ˆã»ã©è¨€ã£ã¦ãŸå½¹ç›®ã«ã‚ˆã‚‹Methodåˆ†é›¢ã®ãŸã‚ã«Annotationã‚’äºŒã¤ä½œã‚Šã¾ã—ãŸã€‚\\nä¸€ã¤ç›®ã¯**@AuthUser<strong>ã§ã€äºŒã¤ç›®ã¯</strong>@PreAuthorize**ã§ã™ã€‚</p>\\n<p>ã¾ãš**@AuthUser<strong>ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã®é€ä¿¡è€…ã®User IDã‚’ä½¿ã†Methodã«Parameterã§User IDã‚’ã‚‚ã‚‰ãˆã‚‹Annotationã§ã‚ã‚‹ã¾ã™ã€‚\\nã“ã®Annotationã¯</strong>HandlerMethodArgumentResolver**ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚</p>\\n<p>äºŒã¤ç›®ã¯**@PreAuthorize**ã§ã™ã€‚\\nã“ã®Annotationã¯Methodã«åˆ¶é™ã‚’æ›ã‘ã‚Œãªã„ã‹ãªï¼Ÿã¨ã„ã†ç–‘å•ã‹ã‚‰å§‹ã‚ã¾ã—ãŸã€‚\\nã‚µãƒ¼ãƒ“ã‚¹ã®ã‚µãƒ¼ãƒãƒ¼Applicationã‚’é–‹ç™ºã—ãªãŒã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹ç›®ã«ã‚ˆã‚‹Methodã®ä½¿ã„æ–¹åˆ†ã‘ã«Spring Securityã‚’å…¥ã‚ŒãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\\nSpring Securityã‚’ä½¿ã£ãŸæ™‚ã«ä¾¿åˆ©ã§ã‚ã‚Šã€Contextã‚’ä½¿ã£ã¦ã„ã‚ã‚“ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰å…±é€šçš„ã«æƒ…å ±ã‚’ä½¿ãˆã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã®ã‚’ä½“æ„Ÿã—ã¾ã—ãŸã€‚\\nã ã‘ã©ä¾¿åˆ©ãªæ©Ÿèƒ½ã«æ¯”ã¹ã¦è‡ªåˆ†ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å…¥ã‚‰ãªã„æ©Ÿèƒ½ãŒå¤šã‹ã£ãŸã®ã‚‚ã‚ã‚Šã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¤§ãããªã‚‹å•é¡ŒãŒã‚ã‚‹ã¨ã„ã†ã®ã‚’æ°—ã¥ãã¾ã—ãŸã€‚\\nãªã®ã§ã€Spring Securityã‚’ä½¿ã‚ãªãšå½¹ç›®ã«ã‚ˆã‚‹ä½¿ãˆã‚‹Methodã‚’åˆ†é›¢ã™ã‚‹ãŸã‚ã«ã“ã®Annotationã‚’ä½œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\\nç›®çš„ã‚’é”æˆã™ã‚‹ãŸã‚ã«AOPã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã†ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚\\n<strong>@PreAuthorize</strong> Annotationã®ä¸­ã«nameã¨ã„ã†Parameterã‚’å…¥ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹ç›®ã«ã‚ˆã‚‹æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Component</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">@</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Aspect</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> PreAuthorizeAspect</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Around</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"@annotation(preAuthorize)\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Object </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">checkRoleForAuthorize</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ProceedingJoinPoint </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">proceedingJoinPoint</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, PreAuthorize </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">preAuthorize</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Throwable {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        ServletRequestAttributes attrs </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        HttpServletRequest request </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> attrs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getRequest</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        AuthInfo authInfo </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getAuthInfo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(request);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">        userRoleVerification</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(authInfo, preAuthorize.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">role</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">());</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> proceedingJoinPoint.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">proceed</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ServletRequestAttributes </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (RequestContextHolder.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getRequestAttributes</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">instanceof</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ServletRequestAttributes attributes) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> attributes;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        throw</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> VerificationException</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ErrorCode.NO_ATTRIBUTES);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> AuthInfo </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getAuthInfo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(HttpServletRequest </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">request</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (request.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getAttribute</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(JwtUtils.CLAIMS_KEY) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">instanceof</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> AuthInfo authInfo) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> authInfo;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        throw</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> VerificationException</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ErrorCode.NO_TOKEN);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> userRoleVerification</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(AuthInfo </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">authInfo</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">role</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (role </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            throw</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> VerificationException</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ErrorCode.NO_AUTHORITY);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        UserRole standardRole </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> UserRole.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">convert</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(role);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">UserRole.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">verify</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(authInfo.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">role</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(), standardRole)) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            throw</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> VerificationException</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(ErrorCode.NO_AUTHORITY);</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ã“ã®ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ã€ãƒãƒ¼ãƒ ãƒ¡ã‚¤ãƒˆã®äººã‹ã‚‰MethodãŒå½¹ç›®ã«ã‚ˆã‚‹åˆ†é›¢ãŒã—ã‚„ã™ããªã£ãŸã¨ã„ã†è©•ä¾¡ã‚’è²°ã†ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\\nãã—ã¦å½¹ç›®ãŒè¿½åŠ ã•ã‚Œã¦ã‚‚UserRoleã«è¿½åŠ ã—ã¦ã€æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã“ã®Aspect Methodã«å…¥ã‚Œã‚‹ã“ã¨ã§ã€ç¶­æŒè£œä¿®ãŒã—ã‚„ã™ã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã€‚</p>\\n<h2 id=\\"æ„Ÿæƒ³\\" tabindex=\\"-1\\">æ„Ÿæƒ³ <a class=\\"header-anchor\\" href=\\"#æ„Ÿæƒ³\\" aria-label=\\"Permalink to &quot;æ„Ÿæƒ³&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>æœ€è¿‘è‡ªåˆ†ãŒä»Šæ‹…å½“ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§èªè¨¼ã‚’æ‹…å½“ã—ã¦ã„ã‚‹äººãŒJwt Tokenã‚’ç„¡æ„è­˜ã§ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚\\nPRã‚’è²°ã£ãŸæ™‚ã€Jwt Tokenã‚’ä½¿ã£ã¦ç†ç”±ã«å¯¾ã—ã¦ã¡ã‚ƒã‚“ã¨èª¬æ˜ãŒã§ããªã„éƒ¨åˆ†ã‚’è¦‹ã¦ã€Jwt Tokenã®æ¦‚å¿µã‚„ã€åˆ©ç‚¹ã«ã¤ã„ã¦æ•™ãˆãªãŒã‚‰è‡ªåˆ†ã®è€ƒãˆãŒé–“é•ã£ãŸã‹ã‚‚ã—ã‚Œãªã„ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ãƒãƒ¼ã‚¹ãƒˆã«æ›¸ã„ã¦æ„è¦‹ã‚’å…±æœ‰ã—ãŸã‹ã£ãŸã®ã§ã™ã€‚\\né–“é•ã£ã¦ã„ã‚‹ã¨ã“ã¨ã‹ã€è«–ç†çš„ã«å¤‰ãªã¨ã“ãŒã‚ã£ãŸã‚‰ãœã²æ•™ãˆã¦ä¸‹ã•ã„ã€‚</p>\\n","frontmatter":{"title":"Tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤«","description":"Tokenæ¤œè¨¼ã«å¯¾ã™ã‚‹å·¥å¤« Java SpringBoot","date":"2026-01-09T03:30:00.000Z","categories":["develop"],"tags":["Java","SpringBoot","JWT","Security","Japanese"]},"excerpt":"","url":"/posts/token-verification-strategy/"},{"html":"<h1 id=\\"java-synchronized-volatile-atomic\\" tabindex=\\"-1\\">[Java] Synchronized, Volatile, Atomic <a class=\\"header-anchor\\" href=\\"#java-synchronized-volatile-atomic\\" aria-label=\\"Permalink to &quot;[Java] Synchronized, Volatile, Atomic&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì¹´ì¹´ì˜¤ í…Œí¬ ìº í¼ìŠ¤ì—ì„œ ê³¼ì œë¡œ ë¶€ì—¬ë°›ì€ SpringBoot Memory ( HashMap ) ì„ ì´ìš©í•´ì„œ ë°ì´í„° ì €ì¥ì†Œë¥¼ ëŒ€ì²´í•˜ëŠ” ê³¼ì œì—ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.</p>\\n<p>í•„ìëŠ” ë°ì´í„° ì €ì¥ì†Œë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ì„œ Collection ì¤‘ HashMap ì„ ì„ íƒí•˜ì˜€ê³ , í•´ë‹¹ HashMap ì— ëŒ€í•´ì„œ ì ‘ê·¼í•  ë•Œ, Record ë³„ë¡œ ê³ ìœ í•œ ID ë¥¼ ë¶€ì—¬í•˜ê¸° ìœ„í•´ì„œ</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">private</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> AtomicLong id;</span></span></code></pre>\\n</div><p>ë¥¼ ì„ ì–¸í–ˆë‹¤.</p>\\n<p>ê·¸ë ‡ê²Œ ê³¼ì œì œì¶œì„ í•˜ê³  ë©˜í† ë‹˜ê»˜ í”¼ë“œë°±ì„ ë°›ì„ ë•Œ, ì™œ ì´ê±¸ ì‚¬ìš©í•˜ì…¨ë‚˜ìš”? ë¼ê³  ë¬¼ìŒì´ ì™”ì„ ë•Œ ê·¸ì— ëŒ€í•œ ëŒ€ë‹µì„ í•˜ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì— ì´ ê¸€ì„ ì‘ì„±í•˜ë©´ì„œ í•´ë‹¹ ë¬¼ìŒì— ëŒ€í•´ ëŒ€ë‹µì„ í•´ë³´ë ¤ê³  í•œë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ìš°ì„  ë‚´ê°€ ì§€ê¸ˆ ì™œ AtomicLong ì„ ì‚¬ìš©í•˜ì˜€ëŠ”ê°€ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê³ ì í•œë‹¤.</p>\\n<p>DB ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ì„œ HashMap ì„ ì‚¬ìš©í–ˆë‹¤ê³  í–ˆëŠ”ë°, ì´ë•Œ SpringBoot ëŠ” ê° API ìš”ì²­ì— ë”°ë¼ì„œ ê°œë°œìê°€ ì§€ì •í•œ Thread ì˜ ê°œìˆ˜ì— ë”°ë¼, ìš”ì²­ Thread ê°€ ë§Œë“¤ì–´ì§„ë‹¤.</p>\\n<p>ìš”ì²­ Thread ë“¤ì€ ìì‹ ë“¤ì˜ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œ í•„ìê°€ ë§Œë“  DB ì— ì ‘ê·¼ì„ í• í…ë°, ì´ ê²½ìš°ì— ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</p>\\n<p>ë”°ë¼ì„œ HashMap ê°™ì€ ê²½ìš°, Thread ë“¤ì˜ ìš”ì²­ì— ì˜í•´ì„œ ë™ì‹œì„± ë¬¸ì œê°€ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡, Thread-safe í•œ ConcurrentHashMap ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>\\n<p>ì—¬ê¸°ê¹Œì§€ëŠ” ê´œì°®ì•˜ì§€ë§Œ, ì´ì œ HashMap ì— ë“¤ì–´ê°ˆ Recordë“¤ì— ëŒ€í•´ì„œ ê³ ìœ í•œ ID ë¥¼ ë¶€ì—¬í•´ì£¼ê³ ì í•˜ì˜€ë‹¤.</p>\\n<p>ë¬¼ë¡  DB ë¥¼ ì—°ê²°í•´ì„œ DB ì—ì„œ ì •í•´ì£¼ëŠ” ê°’ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ, ì§€ê¸ˆì€ HashMap ìœ¼ë¡œ ëŒ€ì²´í•˜ê³  ìˆê¸° ë•Œë¬¸ì— í•„ìê°€ ì„¤ì •í•œ ID ë¥¼ ì‚¬ìš©í•˜ê³ ì í•œë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ í•´ë‹¹ ID ì¡°ì°¨ë„ ê²½í•© ë¬¸ì œ ì¦‰, ë™ì‹œì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ì–˜ê¸°ì¸ë°, ì™œëƒí•˜ë©´ Thread ë“¤ì´ ì „ë¶€ ê°’ì„ ì €ì¥í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ê³  í•˜ë©´, ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ, í•„ìê°€ ì„¤ì •í•œ ID ê°’ì— ëŒ€í•´ì„œ ì ‘ê·¼ì„ í•  ê²ƒì´ê³ , ê·¸ ê³¼ì •ì—ì„œ ì¤‘ë³µëœ ê°’ì´ ë“¤ì–´ê°ˆ í™•ë¥ ì´ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\\n<p>Java ì—ì„œ í•„ë“œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê³  ê°’ì„ ë„£ì„ ê²½ìš°, Heap Memory ì— ê°’ì„ ì €ì¥í•˜ê²Œ ë˜ëŠ”ë°, ì´ëŸ° Heap Memory ëŠ” ê³µìœ  Memory ì´ë‹¤.</p>\\n<p>ì´ë•Œ Thread ê°€ ì ‘ê·¼í•˜ë©´ Race Condition ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, í•´ë‹¹ ê°’ì— ëŒ€í•´ì„œ í™•ì‹ ì„ ê°–ì§€ ëª»í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤..</p>\\n<p><img src=\\"/images/concurrency-1.png\\" alt=\\"Concurrency Diagram 1\\"></p>\\n<p>Thread ì˜ ê³µìœ  ìì› ì²˜ë¦¬ ë°©ì‹ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê³  ë™ê¸°í™” ë¬¸ì œ í•´ê²°ì±…ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê³ ì í•œë‹¤.</p>\\n<p>Thread ëŠ” Memory ì˜ Data ë¥¼ ê°€ì ¸ë‹¤ê°€ Cache ì— ì˜¬ë ¤ë†“ê³  ì—°ì‚°ì„ í•œë‹¤.</p>\\n<p>ì—°ì‚°ì´ ëë‚œ ë’¤, í•´ë‹¹ ì—°ì‚° ê²°ê³¼ë¥¼ ë‹¤ì‹œ Memory ì— ë°˜í™˜ì„ í•˜ëŠ”ë°, ì´ë•Œ ê° Threadë“¤ë¼ë¦¬ ì—°ì‚°ì„ í•˜ë©´ì„œ ì²˜ìŒ ê°€ì ¸ì™”ë˜ ê°’ì´ ì•„ë‹ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ì´ë•Œë¬¸ì— Race Condition ì´ ë°œìƒí•˜ê²Œ ë˜ê³ , ë‹¤ë¥¸ ê°’ì´ Memory ì— ì¡´ì¬í•˜ê²Œ ë˜ì–´, ê°’ì´ ë’¤ë®ì´ëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ë”°ë¼ì„œ Java ì—ì„œëŠ” ì´ëŸ¬í•œ ë™ê¸°í™” ë¬¸ì œë¥¼ 3ê°œì˜ í•´ê²°ì±…ì„ ì œì•ˆí•˜ì—¬ í•´ê²°í•˜ê³ ì í•˜ì˜€ë‹¤.</p>\\n<ol>\\n<li>Synchronized</li>\\n<li>Volatile</li>\\n<li>Atomic.class</li>\\n</ol>\\n<p>í•˜ë‚˜í•˜ë‚˜ ì•Œì•„ë³´ê³ ì í•œë‹¤.</p>\\n<h3 id=\\"synchronized\\" tabindex=\\"-1\\">Synchronized <a class=\\"header-anchor\\" href=\\"#synchronized\\" aria-label=\\"Permalink to &quot;Synchronized&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ì´ëŠ” ì„ ì–¸ëœ Method ì˜ Code Section ì— Lock ì„ ê±´ë‹¤.\\nì ‘ê·¼í•˜ëŠ” Threadë“¤ì— ëŒ€í•´ì„œ Block / Suspended ìƒíƒœë¡œ ë³€ê²½í•˜ê²Œ ë˜ëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ì „ë¶€ ìì›ì´ ì†Œëª¨ëœë‹¤.\\nThread ë“¤ì´ Blocking ë˜ëŠ” ê³¼ì •, Resuming ë˜ëŠ” ê³¼ì • ì „ë¶€ ìì›ì´ ì†Œëª¨ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ 100ê°œì˜ Thread ê°€ í•´ë‹¹ Synchronized ì½”ë“œ ì˜ì—­ì— ì ‘ê·¼ì„ í•˜ê²Œë˜ë©´, 99ê°œì˜ Thread ëŠ” ìì›ì†Œëª¨ê°€ ìˆë‹¤ëŠ” ê²ƒì´ë©°, ì´ëŠ” ì„±ëŠ¥ ì €í•˜ë¡œ ì´ì–´ì§„ë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">synchronized</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> increase</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    count</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">++</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(count); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì˜ˆì‹œë¡œ ì ì–´ë†“ì€ ìœ„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ Lock ì„ ê±¸ì–´ë†“ê³ , í•´ë‹¹ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ 99ê°œì˜ Thread ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ê²ƒì€ êµ‰ì¥íˆ ìì›ì†Œëª¨ë¼ê³  ìƒê°ì´ ë“¤ì§€ ì•ŠëŠ”ê°€?!</p>\\n<p>ë¬¼ë¡ , í•„ìš” ì‹œì— í•´ë‹¹ ë°©ì‹ì€ ì¢‹ì€ ì ‘ê·¼ì´ ë  ìˆ˜ ìˆê² ì§€ë§Œ, Thread ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ìì›ì†Œëª¨ê°€ ë“œëŠ” ê²ƒì€ êµ‰ì¥íˆ ì•„ì‰¬ìš´ ë¶€ë¶„ì´ë‹¤.</p>\\n<h3 id=\\"volatile\\" tabindex=\\"-1\\">Volatile <a class=\\"header-anchor\\" href=\\"#volatile\\" aria-label=\\"Permalink to &quot;Volatile&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>í•´ë‹¹ ê°œë…ì€ êµ‰ì¥íˆ ì¸ìƒ ê¹Šì—ˆì—ˆë˜ ê¸°ì–µì´ ë‚œë‹¤.</p>\\n<p>ì´ìœ ëŠ” Java ì—ì„œ ì–´ë–¤ ë³€ìˆ˜ì— volatile í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´, í•´ë‹¹ ë³€ìˆ˜ëŠ” ëª¨ë“  ì½ê¸°ì™€ ì“°ê¸° ì‘ì—…ì´ CPU Cache ê°€ ì•„ë‹Œ Main Memory ì—ì„œ ì¼ì–´ë‚˜ê²Œ ë˜ê¸° ë•Œë¬¸ì´ë‹¤!</p>\\n<p>ì´ë¡œ ì¸í•´ ë³€ìˆ˜ì— ê°€ì‹œì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\\në”°ë¼ì„œ ê³µìœ  ë³€ìˆ˜ ë¶ˆì¼ì¹˜ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•Šê²Œ ë˜ëŠ” ê²ƒì´ë‹¤!</p>\\n<p><img src=\\"/images/concurrency-2.png\\" alt=\\"Concurrency Diagram 2\\"></p>\\n<p>ê°œìš”ì—ì„œ ê±±ì •í–ˆë˜ ê³µìœ  ë³€ìˆ˜ ë¶ˆì¼ì¹˜ ë¬¸ì œê°€ í•´ë‹¹ volatile ë¡œ í•´ê²°ì´ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆë‹¤.</p>\\n<p>volatile ë§Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì´ì™€ í•¨ê»˜ synchronized ë¥¼ ì‚¬ìš©í•˜ë©´ synchronized ë§Œ ì¼ì„ ë•Œ, ë°œìƒí–ˆë˜ ìì›ì†Œëª¨ ë¬¸ì œê°€ í•´ë‹¹ volatile ë¡œ ì–´ëŠì •ë„ ê°œì„ í•´ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ë©´ëª¨ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>\\n<h3 id=\\"atomic\\" tabindex=\\"-1\\">Atomic <a class=\\"header-anchor\\" href=\\"#atomic\\" aria-label=\\"Permalink to &quot;Atomic&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ Atomic ì´ë‹¤.</p>\\n<p>Atomic í´ë˜ìŠ¤ëŠ” ìì› ì†Œëª¨ ë¹„ìš©ì´ ìƒëŒ€ì ìœ¼ë¡œ ì ì€ í¸ì´ë‹¤.</p>\\n<p>ì–´ë–¤ Thread ë„ suspended ë˜ì§€ ì•Šìœ¼ë©°, Context Switch ë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.</p>\\n<p>ì´ëŸ¬í•œ ë°©ì‹ì´ ê°€ëŠ¥í•œ ì´ìœ ëŠ” <strong>non-blocking</strong> ë°©ì‹ ë•ë¶„ì´ë‹¤!</p>\\n<p>ê·¸ë¦¬ê³  Atomic ì€ <strong>CAS ( Compare And Swap )</strong> ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ì›ìì  í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì´ ê°€ì¥ í° ì¥ì ì´ë‹¤.</p>\\n<p>CAS ì•Œê³ ë¦¬ì¦˜ì€ ë“¤ìœ¼ë©´ êµ‰ì¥íˆ ì–´ë ¤ì›Œ ë³´ì´ì§€ë§Œ, ë‹¨ìˆœíˆ ê¸°ì¡´ ê°’ê³¼ ë³€ê²½ ê°’ì„ ë°”ê¾¸ëŠ” ê²ƒì´ë‹¤.</p>\\n<p><img src=\\"/images/concurrency-3.png\\" alt=\\"Concurrency Diagram 3\\"></p>\\n<p>ê°œìš”ì—ì„œ ë§í–ˆë“¯ì´, í˜„ì¬ Memory ê°€ ê°€ì§€ê³  ìˆëŠ” ê°’ê³¼ CPU Cache Memory ì—ì„œ ì²˜ìŒì— ê°€ì ¸ì˜¨ ê°’ (a=1) ê³¼ ê°™ë‹¤ë©´, ë³€ê²½í•  ê°’ (b=2) ì„ ë°˜ì˜í•´ì„œ True ë¥¼ ë°˜í™˜í•œë‹¤.</p>\\n<p>ì´ë ‡ê²Œ True ê°€ ë°˜í™˜ë˜ë©´, RAM ì— ìˆëŠ” ê°’ì´ ë³€ê²½í•  ê°’(b=2)ìœ¼ë¡œ ë°”ë€Œì–´ ì§€ëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ë§Œì•½ì— ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” Thread ê°€ ì—¬ëŸ¬ ê°œ ì¼ ê²½ìš°ì— Memory ì˜ Data ì™€ Thread Data ê°€ ë¶ˆì¼ì¹˜í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°, ì´ëŸ´ ë•Œì—ëŠ” False ë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AtomicLong</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> extends</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Number</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> implements</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> java.io.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">Serializable</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> serialVersionUID </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> ...; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Unsafe U </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Unsafe.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getUnsafe</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> VALUE </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> U.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">objectFieldOffset</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(AtomicLong.class, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"value\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> volatile</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> value; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> long</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> incrementAndGet</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> U.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getAndAddLong</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">this</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, VALUE, </span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">1L</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> 1L</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">} </span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Unsafe</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">IntrinsicCandidate</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> long</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getAndAddLong</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(Object </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">o</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">long</span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\"> offset</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">, </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">long</span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\"> delta</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        long</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> v; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        do</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            v </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> getLongVolatile</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(o, offset); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">while</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> (</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">!</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">weakCompareAndSetLong</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(o, offset, v, v </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">+</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> delta)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> v; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ì˜ ì½”ë“œëŠ” ì‹¤ì œë¡œ Atomic class ì˜ ê°ì²´ ì¤‘ í•˜ë‚˜ì¸ AtomicInteger ë¥¼ ë“¤ì—¬ë‹¤ ë³¸ ì½”ë“œ ë‚´ìš©ì´ë‹¤.</p>\\n<p>ë‹¨ìˆœíˆ ì´ ë¶€ë¶„ë§Œ ë³¸ë‹¤ë©´, CompareAndSetLong ì´ ë¶€ë¶„ìœ¼ë¡œ ë°©ê¸ˆ ì „ CAS ì•Œê³ ë¦¬ì¦˜ì´ ì‹œí–‰ë˜êµ¬ë‚˜ ë¼ëŠ” ìƒê°ë§Œ í–ˆì„ ê²ƒì´ë‹¤.</p>\\n<p>í•˜ì§€ë§Œ <a href=\\"https://velog.io/@chullll/JAVA-Atomic-%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%84%B1\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://velog.io/@chullll/JAVA-Atomic-%EA%B3%BC-%EB%8F%99%EC%8B%9C%EC%84%B1</a></p>\\n<p>í•´ë‹¹ í¬ìŠ¤íŠ¸ë¥¼ ë³´ê³ ë‚˜ì„œ, ë¬´í•œ ë£¨í”„ ë¶€ë¶„ì— ì¡°ê¸ˆ ë” ì§‘ì¤‘í•´ì„œ ë³´ê²Œ ë˜ì—ˆê³ , ìœ„ì˜ í¬ìŠ¤íŠ¸ì—ì„œ ë§ì”€í•˜ì‹  ê²ƒì²˜ëŸ¼ synchronized ì™€ì˜ ì„±ëŠ¥ ë¹„êµë¬¸ì— ëŒ€í•´ì„œ ì˜ë¬¸ì„ ê°–ê²Œ ë˜ì—ˆë‹¤.</p>\\n<p>í•„ì ë˜í•œ synchronized ëŠ” ì½”ë“œ ì„¹ì…˜ì— Lock ì„ ê±¸ì–´, Thread ê°€ Blocking / Resuming ë˜ëŠ” ìì› ì†Œëª¨ë¥¼ í•˜ê³  ìˆì§€ë§Œ, Atomic ì€ Non-Blocking ë°©ì‹ì„ êµ¬í˜„í•˜ê³  ìˆìœ¼ë©°, ë¹„ë¡ ë¬´í•œ Loop ë¥¼ ê±¸ê³  ìˆì–´ë„, True ë§Œ ë°˜í™˜ë˜ë©´ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì—ì„œ synchronized ë³´ë‹¤ ì„±ëŠ¥ ìƒ ì´ì ì„ ê°€ì§€ê³  ìˆë‹¤ê³  ìƒê°í•˜ì˜€ë‹¤. ( ìœ„ì˜ í¬ìŠ¤íŠ¸ì—ì„œ ë§ì”€í•˜ì…¨ë˜ ë‚´ìš©ê³¼ ë™ì¼í•œ ë‚´ìš©ì´ë‹¤. )</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AtomicInteger</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    private</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> volatile</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> value; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AtomicInteger</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\"> initialValue</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        value </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> initialValue; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> AtomicInteger</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> int</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> get</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> value; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> final</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> set</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">int</span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\"> newValue</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        value </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> newValue; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ... </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì´ë•Œ, AtomicInteger ì˜ ë‚´ë¶€ë¥¼ í™•ì¸í•´ë³´ë©´, volatile ì´ë¼ëŠ” ë³€ìˆ˜ë¥¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>\\n<p>í•´ë‹¹ ë³€ìˆ˜ë¥¼ í†µí•´ì„œ get ê³¼ set ì„ Atomic ì—°ì‚°ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆìœ¼ë©°, ì´ ì½”ë“œ ë•ë¶„ì— Race Condition ì´ ì¼ì–´ë‚˜ì§€ ì•Šì„ ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>ì´ ëª¨ë“  ê²ƒì„ ì¢…í•©í•˜ì˜€ì„ ë•Œ, í•„ìê°€ Atomic Class ë¥¼ ì“´ ì´ìœ ëŠ” ì›ìì  ì—°ì‚°ì„ ìˆ˜í–‰í•´ì¤Œìœ¼ë¡œì¨, Race Condition ì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ ë„ì™€ì£¼ê¸° ë•Œë¬¸ì— Atomic Class ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤ê³  í”¼ë“œë°± ì£¼ì‹  ë¶„ê»˜ ë‹µë³€ì„ ë“œë¦´ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.</p>\\n<h2 id=\\"á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" tabindex=\\"-1\\">ëŠë‚€ ì  <a class=\\"header-anchor\\" href=\\"#á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" aria-label=\\"Permalink to &quot;ëŠë‚€ ì &quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ë‹¨ìˆœíˆ ì§  ì½”ë“œì—¬ë„, ì¹´í…Œìº ì—ì„œ ë©˜í† ë©˜í‹°ë¥¼ í†µí•´ ë‚´ê°€ ì´ ì½”ë“œë¥¼ ì™œ ì§°ëŠ”ì§€ì— ëŒ€í•´ì„œ ë¬¼ì–´ë´ì£¼ì‹œëŠ”ê²Œ ì •ë§ í¬ë‹¤ê³  ìƒê°í–ˆë‹¤.</p>\\n<p>ë˜í•œ Atomic ì´ë¼ëŠ” ê°œë…ì„ ë°°ìš°ê¸° ìœ„í•´ì„œ ë‹¤ë¥¸ ê°œë…ë“¤ì„ ì´í•´í•˜ê³ , ê·¸ ê³¼ì •ì—ì„œ ì™œ Atomic ì´ ì„ íƒë˜ì—ˆëŠ”ê°€ë¥¼ ê³µë¶€í•˜ë©´ì„œ ëŠë¼ê²Œ ë˜ì—ˆë‹¤.</p>\\n<p>í•„ìê°€ í˜¼ì ê³µë¶€í•  ë•Œì—ë„ ì´ë ‡ê²Œ ì™œ ì¼ëŠ”ê°€ì— ëŒ€í•´ì„œ ì˜ë¬¸ì„ ê°€ì§€ê³ , ê·¸ì— ëŒ€í•´ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ê°œë°œìê°€ ë˜ê¸°ë¥¼ ë°”ë¼ë©° í¬ìŠ¤íŒ…ì„ ë§ˆì¹œë‹¤.</p>\\n","frontmatter":{"title":"Synchronized, Volatile, Atomic","description":"Java ë™ê¸°í™” ë¬¸ì œ í•´ê²°ì±…ì¸ Synchronized, Volatile, Atomicì— ëŒ€í•œ ê³ ì°°","date":"2025-12-27T05:10:00.000Z","categories":["CS"],"tags":["Java","Korean","MultiThread","Concurrency","Synchronized","Volatile","Atomic"]},"excerpt":"","url":"/posts/java-concurrency/"},{"html":"<h1 id=\\"java-static-area-heap-area\\" tabindex=\\"-1\\">[Java] Static Area &amp; Heap Area <a class=\\"header-anchor\\" href=\\"#java-static-area-heap-area\\" aria-label=\\"Permalink to &quot;[Java] Static Area &amp; Heap Area&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì¹´ì¹´ì˜¤ í…Œí¬ ìº í¼ìŠ¤ 3ê¸°ë¥¼ ì§„í–‰í•˜ë©´ì„œ, Static í‚¤ì›Œë“œì— ëŒ€í•´ì„œ ì§€ì ì„ ë°›ì•˜ì—ˆë‹¤.\\nDTO ì˜ ë©”ì„œë“œì—ì„œ DTO -&gt; Entity ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ static ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ê¸° ë•Œë¬¸ì´ë‹¤.\\nì´ ê³¼ì •ì—ì„œ ì™œ static ë©”ì„œë“œë¡œ ì§€ì •í•˜ë©´ ì•ˆë ê¹Œì— ëŒ€í•´ì„œ ìƒê°ì„ ì¡°ê¸ˆ í•´ë³´ê³ ì í•œë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p><img src=\\"/images/static-memory-1.png\\" alt=\\"Class Area vs Instance Area\\"></p>\\n<p>ìœ„ì˜ ê·¸ë¦¼ì„ ë³´ì•˜ì„ ë•Œ, Class ì •ë³´ ì˜ì—­ì€ static area ì— í˜•ì„±ì´ ë˜ê³ , heap area ì—ëŠ” instance ë“¤ì´ ìƒì„±ì´ ëœë‹¤.\\nìš°ë¦¬ê°€ ë³´í†µ new ì—°ì‚°ì„ ì§„í–‰í•˜ì˜€ì„ ë•Œ, static area ì— ìˆëŠ” class ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ heap area ì— instance ë“¤ì´ ìƒì„±ì´ ëœë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ ì—¬ê¸°ì—ì„œ íŠ¹ì§•ì„ ì•Œì•„ë³´ì.</p>\\n<p><strong>static area ì—ëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆì„ê¹Œ?</strong></p>\\n<ul>\\n<li>static method, class ì— ëŒ€í•œ ì •ë³´ ë“±ì´ ìˆë‹¤.</li>\\n<li>í”„ë¡œê·¸ë¨ì´ ëë‚  ë•Œê¹Œì§€ static í‚¤ì›Œë“œê°€ ë¶™ì€ method, ë³€ìˆ˜, class ì— ëŒ€í•œ ì •ë³´ë“¤ì€ ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤.</li>\\n</ul>\\n<p>ì¦‰, í”„ë¡œê·¸ë¨ì´ ëë‚  ë•Œê¹Œì§€ ì‚­ì œë˜ì§€ ì•Šê³  program ì˜ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•˜ëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ì—¬ê¸°ì„œ Java ì—ëŠ” <strong>Garbage Collector</strong> ë¼ëŠ” ê²ƒì´ ìˆë‹¤.\\nGarbage Collector ì— ëŒ€í•´ì„œëŠ” ë‹¤ì‹œ í¬ìŠ¤íŒ…ì„ í•  ì˜ˆì •ì´ì§€ë§Œ, ìš°ë¦¬ëŠ” ë‹¨ìˆœíˆ GC ( Garbage Collector ) ê°€ ì•ˆ ì“°ëŠ” Instance ë“¤ì„ Memory ë¡œë¶€í„° í•´ì œí•œë‹¤ëŠ” ì—­í• ë§Œ ì•Œì•„ë‘ì.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´, static ì˜ì—­ì€ GC ê°€ ê´€ì—¬ë¥¼ í•˜ëŠ” ë¶€ë¶„ì¼ê¹Œ?\\nì•„ë‹ˆë‹¤.</p>\\n<p>ë”°ë¼ì„œ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ static Method, Variable, Class ì— ëŒ€í•œ ì •ë³´ ë“±ì„ Memory ì— ì €ì¥í•´ë†“ì„ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</p>\\n<p>ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ì™œ static ë©”ì„œë“œì—ì„œ Field ë³€ìˆ˜ë‚˜ public method ì— ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ”ì§€ì— ëŒ€í•´ì„œ ì•Œ ìˆ˜ ìˆë‹¤.</p>\\n<p><img src=\\"/images/static-memory-2.png\\" alt=\\"Static Method Access Issue\\"></p>\\n<p>ìœ„ì˜ ê·¸ë¦¼ì—ì„œ printX ê°€ printY ë¥¼ í˜¸ì¶œí•œë‹¤ê³  ê°€ì •í•˜ì.</p>\\n<p>printX ëŠ” Static Memory ì˜ì—­ì— ì¡´ì¬í•´ì„œ, Class ì— ëŒ€í•œ ì •ë³´ê°€ ê¸°ì… ( Class ê°€ Loading ë˜ëŠ” ìˆœê°„ )ë  ë•Œ í•´ë‹¹ method ì— ëŒ€í•œ ì •ë³´ë„ í¬í•¨ì´ ëœë‹¤.\\ní•˜ì§€ë§Œ printY ëŠ” public method ë¡œì¨, Instance method ì´ë‹¤.</p>\\n<p>ê·¸ëŸ¬ë¯€ë¡œ í•´ë‹¹ Method ì— ëŒ€í•´ì„œ Memory ê°€ í• ë‹¹ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´, ë‚´ë¶€ì— ì–´ë–¤ ì½”ë“œê°€ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ëŠ” ê²ƒì„.\\nê·¸ì— ë°˜í•´, printX ëŠ” Static Memory ì˜ì—­ì— ì¡´ì¬í•´ì„œ, Class ì— ëŒ€í•œ ì •ë³´ê°€ ê¸°ì…ë  ë‹¹ì‹œ Method ê°€ ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ printX ê°€ printY ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì˜ì—­ì„ ê°€ë¦¬í‚¤ëŠ” ê²ƒê³¼ ë™ì¼í•´ì„œ Compiler ê°€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.\\nì´ ë•Œë¬¸ì— static ë³€ìˆ˜ ë˜ëŠ” static method ê°€ Instance ë³€ìˆ˜ í˜¹ì€ Instance method ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ë‹¤.</p>\\n<h2 id=\\"á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" tabindex=\\"-1\\">ëŠë‚€ ì  <a class=\\"header-anchor\\" href=\\"#á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" aria-label=\\"Permalink to &quot;ëŠë‚€ ì &quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì½”ë”©ì„ ì²˜ìŒ ì ‘í•  ë•Œì—ëŠ” ì´ëŸ¬í•œ ê°œë… ìì²´ë¥¼ ì•Œë ¤ê³ ë„ í•˜ì§€ ì•Šì•˜ìœ¼ë©°, ë‹¨ìˆœíˆ ì™¸ì› ë˜ ê¸°ì–µì´ ë‚œë‹¤.\\nì´ê±°ë¥¼ ëŒ€í•™êµ 2í•™ë…„ ë•Œ ë°°ìš´ ê²ƒ ê°™ì€ë°, ì§€ê¸ˆì™€ì„œ ë³µìŠµí•˜ëŠ” ê±¸ ë³´ë©´ ê·¸ë•Œì˜ ë‚˜ëŠ” ì œëŒ€ë¡œ ê³µë¶€í•œê²Œ ê³¼ì—° ë§ì„ê¹Œ ë¼ëŠ” ì˜ë¬¸ì´ ìƒê¸´ë‹¤.\\nì•ìœ¼ë¡œ ì´ëŸ° ì‹¤ìˆ˜ë¥¼ í•˜ì§€ ì•Šê¸° ìœ„í•´ì„œ ì¡°ê¸ˆ ë” ê¼¼ê¼¼íˆ ê³µë¶€í•˜ê³ ì í•œë‹¤.</p>\\n","frontmatter":{"title":"Static Area & Heap Area","description":"Java Static Areaì™€ Heap Areaì˜ ì°¨ì´ì™€ ë©”ëª¨ë¦¬ êµ¬ì¡°ì— ëŒ€í•œ ì´í•´","date":"2025-12-14T05:16:00.000Z","categories":["CS"],"tags":["Java","Korean","Memory","Static","Heap","Garbage Collection"]},"excerpt":"","url":"/posts/static-memory/"},{"html":"<h1 id=\\"java-setter-á„…á…³á†¯-á„Šá…³á„Œá…µ-á„‹á…¡á†­á„€á…¦á†»á„ƒá…¡á„‚á…³á†«-á„ƒá…¡á„Œá…µá†·\\" tabindex=\\"-1\\">[Java] Setter ë¥¼ ì“°ì§€ ì•Šê² ë‹¤ëŠ” ë‹¤ì§ <a class=\\"header-anchor\\" href=\\"#java-setter-á„…á…³á†¯-á„Šá…³á„Œá…µ-á„‹á…¡á†­á„€á…¦á†»á„ƒá…¡á„‚á…³á†«-á„ƒá…¡á„Œá…µá†·\\" aria-label=\\"Permalink to &quot;[Java] Setter ë¥¼ ì“°ì§€ ì•Šê² ë‹¤ëŠ” ë‹¤ì§&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>JDBC ë¥¼ ì´ìš©í•´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ Return ì„ í•˜ëŠ” ìˆœê°„, Setter ë¥¼ ì“°ëŠ” ê²ƒì´ êµ‰ì¥íˆ ë§ˆìŒì— ì•ˆë“¤ì—ˆë‹¤.</p>\\n<ul>\\n<li><a href=\\"https://tecoble.techcourse.co.kr/post/2020-04-28-ask-instead-of-getter/\\" target=\\"_blank\\" rel=\\"noreferrer\\">https://tecoble.techcourse.co.kr/post/2020-04-28-ask-instead-of-getter/</a></li>\\n</ul>\\n<p>í•´ë‹¹ ê¸€ì„ ì½ê³ , ê°ì²´ë¼ëŠ” ê°œë…ì— ëŒ€í•´ì„œ ì¬ì •ë¦½ì„ í•˜ê¸° ì‹œì‘í–ˆëŠ”ë°, ê³¼ì—° ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” Setter ì˜ ë°©ì‹ì´ ì˜³ì€ ê²ƒì¼ê¹Œ? ë¼ëŠ” ì˜ë¬¸ì„ ê°€ì§€ê²Œ ëœ ê²ƒì´ë‹¤.\\nJDBC ë¥¼ ì´ìš©í•´ì„œ JPA ë¥¼ ê°œë°œí•˜ì§„ ì•Šì•˜ê² ì§€ë§Œ, JPA ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ë‚˜ëŠ” Setter ë¥¼ ì ìš©í•´ì¤€ ê¸°ì–µì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— Setter ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì´ ìˆë‹¤ê³  ìƒê°ì„ í•˜ê²Œ ë˜ì–´ í•´ë‹¹ í¬ìŠ¤íŒ…ì„ ì‘ì„±í•œë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Optional</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">&#x3C;</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">Gift</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">></span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> findById</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(Long giftId){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    String sql </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"SELECT * FROM Gift WHERE id = ?\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    Object</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] params </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> Object</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[]{giftId}; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    int</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] argsTypes </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> {Types.BIGINT}; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    /* </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    * í•´ë‹¹ ë¶€ë¶„ì—ì„œ ì™œ ë¹ˆ ìƒì„±ìê°€ í•„ìš”í•œì§€ì— ëŒ€í•´ì„œ ì´í•´ë¥¼ í•˜ê²Œ ë˜ì—ˆë‹¤. </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    * ë˜í•œ JpaRepository Entity ë“¤ì€ Setter ì—†ì´ë„ ê°’ë“¤ì´ ë„£ì–´ì§€ëŠ”ê²Œ ê°€ëŠ¥í•˜ì˜€ëŠ”ë°, </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    * ì™œ JDBC ëŠ” ì´ë ‡ê²Œ Setter ê°€ ìˆì–´ì•¼ë§Œ í•˜ëŠ”ì§€ ê¶ê¸ˆí–ˆë‹¤. </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    * */</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    ResultSetExtractor&#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Gift</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> extractor </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> rs </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">-></span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">next</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">()) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            Gift gift </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Gift</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftId</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getLong</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"id\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftName\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftPrice</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftPrice\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftPhotoUrl</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftPhotoUrl\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> gift; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\"> null</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    }; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Optional.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">ofNullable</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(jdbcTemplate.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">query</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(sql, params, argsTypes, extractor)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ê¶ê¸ˆì¦ì€ ìœ„ì™€ ê°™ì€ ì½”ë“œì—ì„œ ë°œìƒí•˜ì˜€ë‹¤.\\nJDBC ì—ì„œ id ì— ê±¸ë§ëŠ” ê°ì²´ë¥¼ ê°€ì ¸ì™€ í•´ë‹¹ ê°ì²´ì˜ ì¡°ê±´ì— ë§ê²Œ JdbcTemplate ì„ ì´ìš©í•´ì„œ ê°ì²´ë¥¼ Optional ë¡œ ê°ì‹¼ ë’¤, return í•´ì£¼ëŠ” method ì´ë‹¤.\\nGift ë¼ëŠ” ì—”í‹°í‹°ì— ëŒ€í•´ì„œ ë‚˜ëŠ” ê°’ì„ ë„£ì–´ì£¼ê¸° ìœ„í•´ì„œ ê° í•„ë“œë§ˆë‹¤ Setter ë¥¼ ì ìš©í•˜ì˜€ëŠ”ë°, ê·¸ ë¶€ë¶„ì´ êµ‰ì¥íˆ ë§ˆìŒì— ì•ˆë“¤ì—ˆë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">Gift gift </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Gift</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftId</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getLong</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"id\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftName\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftPrice</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getInt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftPrice\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">)); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">gift.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setGiftPhotoUrl</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(rs.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getString</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"giftPhotoUrl\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">));</span></span></code></pre>\\n</div><p>ì´ Setter ë¥¼ ìƒëµì‹œí‚¬ ìˆ˜ ì—†ì„ê¹Œ ë¥¼ ê³ ë¯¼í•˜ë‹¤ê°€ ì¹´í…Œìº  3ê¸° STEP#2 íŒ€ì›ë¶„ë“¤í•œí…Œ ì§ˆë¬¸ì„ ë˜ì¡ŒëŠ”ë°, êµ‰ì¥íˆ ì¢‹ì€ ë‹µë³€ì„ ë°›ì•˜ë‹¤.\\n@RequestBody ì—ì„œ Setter ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ê°’ì„ ë„£ì–´ì£¼ëŠ” ê²ƒê³¼ ê°™ì€ ë§¤ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.\\nê·¸ë ‡ë‹¤ë©´ ì´ ë§¤ì»¤ë‹ˆì¦˜ì€ ë­˜ê¹Œ..í•˜ë‹¤ê°€ ë‹¤ë¥¸ íŒ€ì›ë¶„ê»˜ì„œ Reflection ì— ëŒ€í•´ì„œ ì„¤ëª…ì„ í•´ì£¼ì…¨ë‹¤.\\nì„¤ëª…í•´ì£¼ì‹  ë‚´ìš©ë•ë¶„ì— í¥ë¯¸ë¥¼ ë¶™ì˜€ê³ , ì´ë ‡ê²Œ ê¸€ì„ ì¨ë³´ê³ ì í•œë‹¤.</p>\\n<h3 id=\\"reflection\\" tabindex=\\"-1\\">Reflection <a class=\\"header-anchor\\" href=\\"#reflection\\" aria-label=\\"Permalink to &quot;Reflection&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>Setter ë¥¼ ì“°ê³  ì‹¶ì§€ ì•Šì•˜ë‹¤. ( ê·¸ ëˆ„êµ¬ë„ ë‚´ ê°ì²´ì— ì†ì„ ì•ˆëŒ”ìœ¼ë©´ ì¢‹ê² ë‹¤ ë¼ëŠ” ë°”ë¨ì´ ìƒê²¼ë‹¤. )\\nê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ Setter ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²ƒì¼ê¹Œ.</p>\\n<p>Java ì—ëŠ” <strong>Reflection</strong> ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ Reflection ì´ë€ ë­˜ê¹Œ?\\nì •í™•í•œ Class ì˜ Type ì„ ì•Œì§€ ëª»í•˜ì—¬ë„, í•´ë‹¹ Class ì˜ Method, Type, Variables ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ìë°” API ì´ë‹¤.\\nCompile ëœ Java Byte Code ( .class íŒŒì¼ì˜ ì½”ë“œ ) ë¥¼ í†µí•´ì„œ Runtime ì— ë™ì ìœ¼ë¡œ íŠ¹ì • Class ì˜ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ë‹¤!</p>\\n<p>Program ì‹¤í–‰ ì¤‘ì—, ì‚¬ìš©ìì™€ ìš´ì˜ì²´ì œ ë° ê¸°íƒ€ í”„ë¡œê·¸ë¨ê³¼ ìƒí˜¸ì‘ìš©ì„ í•˜ë©´ì„œ Class ì™€ Interface ë“±ì„ ê²€ì‚¬í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì¸ë°, ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ ì´ëŸ° ë°©ì‹ì´ ê°€ëŠ¥í•œ ê²ƒì¸ê°€ ì¡°ê¸ˆ ìì„¸íˆ ì•Œì•„ë³´ì.</p>\\n<p>Java ì˜ í´ë˜ìŠ¤ëŠ” Java Compiler ì— ì˜í•´ì„œ Java Byte íŒŒì¼ë¡œ ë°”ë€Œê²Œ ëœë‹¤.\\ní•´ë‹¹ Java Byte íŒŒì¼ì€ Class Loader ì—ê²Œ ì „ë‹¬ëœë‹¤.\\nì „ë‹¬ëœ Byte íŒŒì¼ì€ Class Loader ì— ì˜í•´ì„œ Runtime Data Areas ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë˜ëŠ”ë°, í•´ë‹¹ Byte íŒŒì¼ì˜ Meta ì •ë³´ê°€ Method Area ì— ì €ì¥ë˜ê²Œ ëœë‹¤.\\në”°ë¼ì„œ ê°œë°œìëŠ” Reflection ì„ ì‚¬ìš©í•  ë•Œ, í•´ë‹¹ Method Area ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>\\n<p><img src=\\"/images/java-runtime.png\\" alt=\\"Java Runtime Data Areas\\"></p>\\n<p>ì½”ë“œ ì‘ì„± ì‹œì ì—ì„œ ëª¨ë¥´ëŠ” Class ì˜ Type ì— ëŒ€í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì´ë•ŒëŠ” <strong>ë™ì  ë°”ì¸ë”©</strong>ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\\n<ul>\\n<li>ë™ì  ë°”ì¸ë”©ì— ëŒ€í•´ì„œëŠ” ì¶”í›„ ìì„¸íˆ ì„¤ëª…í•  ì˜ˆì •ì´ë‹¤.</li>\\n</ul>\\n<p>ì˜ˆì‹œë¥¼ ë“¤ì–´ ì¡°ê¸ˆ ë” ìì„¸íˆ ì•Œì•„ë³´ì.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> JpaFactory</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Object </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getInstance</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">className</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(className </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"Member\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Member</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        }</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">else</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> if</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(className </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">==</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\"> \\"Product\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">            return</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> Product</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ì˜ ì˜ˆì œëŠ” í•„ìê°€ Jpa ì— ëŒ€í•´ì„œ ê³ ë¯¼í–ˆì„ ë•Œ, ê³ ì•ˆí•œ ì²« ëŒ€ì•ˆì´ë‹¤.\\nGenerics ìœ¼ë¡œ ì •ë³´ë¥¼ ë°›ê¸° ì‹œë„í•˜ê¸° ì „, ë‚´ê°€ ë§Œë“  Entity Class ì— ëŒ€í•´ì„œ ì •ë³´ë¥¼ ì „ë‹¬í•´ì£¼ê³  ì‹¶ì–´, ìœ„ì²˜ëŸ¼ ì‘ì„±í–ˆë‹¤.\\nì´ë ‡ê²Œ ì‘ì„±í–ˆì„ ë•Œì˜ ë¬¸ì œì ì€ Entity ê°€ ìƒê¸¸ë•Œë§ˆë‹¤ if/else ë¬¸ì´ ëŠ˜ì–´ë‚œë‹¤ëŠ” ë¬¸ì œì ì´ ë°œìƒí–ˆë‹¤.\\n( ê°ì²´ì§€í–¥ì—ì„œ if/else ë¬¸ì€ í•„ìš”ì¹˜ ì•Šë‹¤ëŠ” ì‚¬ì‹¤ì„ ìƒê¸°í•˜ì. )</p>\\n<p>ë‚´ê°€ íŒŒì•…í•œ Jpa ì˜ ê°€ì¥ í° íŠ¹ì§•ì„ ë‚˜ì—´í•´ë³´ìë©´</p>\\n<ol>\\n<li>Setter ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì— ê°’ì„ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.</li>\\n<li>Generics ìœ¼ë¡œ Class ì˜ ë³€ìˆ˜ Type ì„ ì „ë‹¬í•´ì£¼ë©´, í•´ë‹¹ Entity ì˜ Instance ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.</li>\\n</ol>\\n<p>ì´ì™¸ì—ë„ ë§ì€ íŠ¹ì§•ë“¤ì´ ìˆì§€ë§Œ, ì£¼ë¡œ ê³ ë¯¼í•œ ê±´ ì´ 2ê°€ì§€ì˜€ë‹¤.\\nê·¸ë ‡ë‹¤ë©´ ìœ„ì˜ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ë°”ê¿€ ìˆ˜ ìˆì—ˆì„ê¹Œ?</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> SimpleJpaRepository</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Object </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getInstance</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(String </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">className</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">throws</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Exception{ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        Class cls </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> Class.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">forName</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(className); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        Constructor constructor </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cls.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getConstructor</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        return</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> constructor.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">newInstance</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ìœ„ì²˜ëŸ¼ ë°”ê¾¸ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ì˜€ë‹¤.\\nìœ„ì˜ ì½”ë“œë¡œ ë°”ê¾¸ê²Œ ë˜ë©´,\\nJpa Entity ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” Lombok ì˜ <code>@NoArgsConstructor</code> ì–´ë…¸í…Œì´ì…˜ì„ ë¬´ì¡°ê±´ ì ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ê°€ ì•„ë˜ì—ì„œ ë‚˜ì˜¨ë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">Constructor constructor </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> cls.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getConstructor</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">();</span></span></code></pre>\\n</div><p>í•´ë‹¹ ì½”ë“œì—ì„œ ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ê°ì²´ë¥¼ ê°€ì ¸ì™€, Instance ë¥¼ ë°œí–‰í•´, ì›í•˜ëŠ” Class Instance ì— ê°’ì„ ì£¼ì…í•  ìˆ˜ ìˆë„ë¡ ë¹ˆ Instance ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ë‹¤.\\nê·¸ ë’¤ë¡œë¶€í„°ëŠ” Reflection ì€ Field ì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´, ì•„ë˜ì™€ ê°™ì´ ê°’ì„ ì§‘ì–´ ë„£ì„ ìˆ˜ ìˆë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> SimpleJpaRepository</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">{ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> T &#x3C;</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">T</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">> </span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getResult</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(T </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">obj</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        Field field </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> obj.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">getField</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"name\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Public ì¼ ê²½ìš°, ì•„ë˜ì™€ ê°™ì´ ì¦‰ì‹œ ê°’ì„ ì‚½ì…í•  ìˆ˜ ìˆë‹¤. </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        field.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">set</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(obj, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ì´ë¬´ê°œ\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Private ì¼ ê²½ìš°, ì•„ë˜ì™€ ê°™ì´ ì ‘ê·¼ì„±ì— ëŒ€í•´ ìˆ˜ì •ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤. </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        field.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">setAccessible</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#79B8FF\\">true</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        field.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">set</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(obj, </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"ì´ë¬´ê°œ\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì´ë ‡ê²Œ ìš°ë¦¬ëŠ” Setter ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ì›í•˜ëŠ” Class ì— ê°’ì„ ë„£ì„ ìˆ˜ ìˆë„ë¡ ì§€ì›í•´ì£¼ëŠ” Reflection ì— ëŒ€í•´ì„œ í•œì¸µ ê°€ê¹Œì›Œì¡Œë‹¤.</p>\\n<ul>\\n<li>ë‹¤ë¥¸ ë°©ë²•ë“¤ë„ ë§ìœ¼ë‹ˆ, Reference ì°¸ê³ í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.</li>\\n</ul>\\n<h3 id=\\"reflection-á„‹á…³á†«-á„†á…®á„Œá…¥á†¨á„‹á…µá†¯á„á…¡\\" tabindex=\\"-1\\">Reflection ì€ ë¬´ì ì¼ê¹Œ? <a class=\\"header-anchor\\" href=\\"#reflection-á„‹á…³á†«-á„†á…®á„Œá…¥á†¨á„‹á…µá†¯á„á…¡\\" aria-label=\\"Permalink to &quot;Reflection ì€ ë¬´ì ì¼ê¹Œ?&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ë¹›ì´ ìˆìœ¼ë©´, ê·¸ë¦¼ìë„ ìˆëŠ” ë²•.\\nì´ë ‡ê²Œ ì¥ì ì´ ë§ì„ ë•Œ, ìš°ë¦¬ëŠ” ê·¸ë¦¼ìë¥¼ ë¬´ì‹œí•˜ë©´ ì•ˆëœë‹¤.</p>\\n<p>ì´ë ‡ê²Œ Runtime ì—ì„œ Class Type ì— ëŒ€í•´ ë™ì  ë°”ì¸ë”©ì„ ì§„í–‰í•˜ëŠ”ë°, ì†ë„ê°€ ëŠë¦¬ì§„ ì•Šì„ê¹Œ? ë¼ëŠ” ê³ ë¯¼ì„ í•˜ëŠ” ë¶„ë“¤ì´ ë¬´ì¡°ê±´ ìˆì„ ê±°ë¼ ìƒê°í•œë‹¤.</p>\\n<p><img src=\\"/images/reflection-perf-1.png\\" alt=\\"Reflection Performance 1\\">\\n<img src=\\"/images/reflection-perf-2.png\\" alt=\\"Reflection Performance 2\\">\\nìœ„ì˜ ê·¸ë˜í”„ë¥¼ ë³´ì•˜ì„ ë•Œ, Field ì— ëŒ€í•´ Access í•˜ëŠ” ì‹œê°„ì€, Direct, Reference, Reflection ì¤‘ Reflection ì´ ê°€ì¥ ëŠë¦¬ë‹¤.\\në©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì‹œê°„ë˜í•œ Reflection ì´ ê°€ì¥ ëŠë¦° ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\\n<p>ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ëŠ” Reflection ì„ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ ë˜ëŠ”ê°€?\\ní•„ìì˜ ìƒê°ì€ ì•„ë‹ˆë¼ê³  ë³¸ë‹¤.</p>\\n<p>ì´ì „ì— ê° ê°’ ë³„ë¡œ ë¶„ë¥˜ë¥¼ í•´ì•¼í•˜ëŠ” ìƒí™©ì—ì„œ Nê°œì˜ Input ê°’ì´ ìˆì„ ë•Œ, N ì´ 3ì„ ë„˜ì–´ê°€ê²Œ ë˜ë©´, ifë¬¸ë³´ë‹¤ switch ë¬¸ì„ ì“°ëŠ” ê²ƒì´ ì„±ëŠ¥ ìƒ ì¢‹ë‹¤.\\në¬¼ë¡  ì¢‹ì„ ë•Œê°€ ìˆê² ì§€ë§Œ, ì–´ë–¨ ë•Œì—ëŠ” if ë¬¸ì´ ê°€ë…ì„±ì´ ì¢‹ì„ ìˆ˜ ìˆê³ , switch ë¬¸ì„ ì„ í˜¸í•˜ëŠ” ê°œë°œìê°€ ìˆì„ê±°ë¼ê³  ìƒê°í•œë‹¤.\\nëˆˆì— ë„ë“œë¼ì§€ëŠ” ì„±ëŠ¥ ë³€í™”ê°€ ìˆì„ ê²½ìš°, Reflection ì‚¬ìš©ì„ ë©ˆì¶°ì•¼ë˜ê² ì§€ë§Œ,\\në§Œì•½ Reflection ì‚¬ìš©ì„ í•˜ì§€ ì•Šì„ ë•Œ, ë‚˜ëŠ” if/else ë¬¸ìœ¼ë¡œ ëŒì•„ê°ˆ ìì‹ ì´ ì—†ë‹¤.</p>\\n<h2 id=\\"á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" tabindex=\\"-1\\">ëŠë‚€ ì  <a class=\\"header-anchor\\" href=\\"#á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" aria-label=\\"Permalink to &quot;ëŠë‚€ ì &quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>Reflection ì˜ ì¡´ì¬ë¥¼ ì•Œê³ ë‚˜ì„œ, Custom Jpa ë¥¼ êµ¬í˜„í•´ë³´ê³ ì í•˜ëŠ” ìš•ë§ì´ êµ‰ì¥íˆ í¬ê²Œ ìƒê¸°ê²Œ ë˜ì—ˆë‹¤.\\ní˜„ì¬ ì¹´ì¹´ì˜¤ í…Œí¬ ìº í¼ìŠ¤ 3ê¸° ì§„í–‰ ì¤‘ì´ì–´ì„œ, ì‹œê°„ì„ ë‚¼ ìˆ˜ ìˆì„ ë•Œ, ë§ì´ í•´ë³´ê³  ë§ì´ ë¬¼ì–´ë³´ë ¤ê³  í•œë‹¤.\\nì´ìƒìœ¼ë¡œ Setter ë¥¼ ì“°ê¸° ì‹«ì–´í•œ ì¹´ì¹´ì˜¤ í…Œí¬ ìº í¼ìŠ¤ 3ê¸°ìƒì´ì—ˆë‹¤.</p>\\n","frontmatter":{"title":"Setter ë¥¼ ì“°ì§€ ì•Šê² ë‹¤ëŠ” ë‹¤ì§","description":"JDBCì™€ JPAë¥¼ ì‚¬ìš©í•˜ë©° Setter ì‚¬ìš©ì— ëŒ€í•œ ì˜ë¬¸ê³¼ Reflectionì„ í†µí•œ ëŒ€ì•ˆ íƒêµ¬","date":"2025-12-09T05:00:00.000Z","categories":["develop"],"tags":["Java","Reflection","JPA","JDBC","Korean"]},"excerpt":"","url":"/posts/java-no-setter/"},{"html":"<h1 id=\\"java-binding\\" tabindex=\\"-1\\">[Java] Binding <a class=\\"header-anchor\\" href=\\"#java-binding\\" aria-label=\\"Permalink to &quot;[Java] Binding&quot;\\">&ZeroWidthSpace;</a></h1>\\n<h2 id=\\"á„€á…¢á„‹á…­\\" tabindex=\\"-1\\">ê°œìš” <a class=\\"header-anchor\\" href=\\"#á„€á…¢á„‹á…­\\" aria-label=\\"Permalink to &quot;ê°œìš”&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì¹´ì¹´ì˜¤ í…Œí¬ ìº í¼ìŠ¤ 3ê¸°ë¥¼ ì§„í–‰í•˜ë©´ì„œ, Reflection ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ë©´ì„œ Dynamic Binding ì´ë€ ë‹¨ì–´ê°€ ë‚˜ì™€, í•´ë‹¹ ê°œë…ì€ ì–´ë–¤ ê°œë…ì¼ê¹Œ? ë¼ëŠ” ê¶ê¸ˆì¦ì´ ìƒê²¨ ì´ë ‡ê²Œ í¬ìŠ¤íŒ…ê¹Œì§€ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\\n<h2 id=\\"á„‚á…¢á„‹á…­á†¼\\" tabindex=\\"-1\\">ë‚´ìš© <a class=\\"header-anchor\\" href=\\"#á„‚á…¢á„‹á…­á†¼\\" aria-label=\\"Permalink to &quot;ë‚´ìš©&quot;\\">&ZeroWidthSpace;</a></h2>\\n<h3 id=\\"binding\\" tabindex=\\"-1\\">Binding <a class=\\"header-anchor\\" href=\\"#binding\\" aria-label=\\"Permalink to &quot;Binding&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ìš°ì„  ì •ì  ë°”ì¸ë”©ê³¼ ë™ì  ë°”ì¸ë”©ì„ ë°°ìš°ê¸° ì „ í•œ ê°€ì§€ ì‚¬ì‹¤ì— ëŒ€í•´ì„œ ì•Œì•„ì•¼ í•œë‹¤.\\nê³¼ì—° ë°”ì¸ë”© ( Binding ) ì´ë€ ë¬´ì—‡ì¼ê¹Œ?</p>\\n<p>ì‚¬ì „ì ì¸ ì •ì˜ë¥¼ ë¨¼ì € ì–˜ê¸°í•˜ìë©´</p>\\n<blockquote>\\n<p>í”„ë¡œê·¸ë¨ì˜ ê¸°ë³¸ ë‹¨ìœ„ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” êµ¬ì„±ìš”ì†Œì˜ êµ¬ì²´ì ì¸ ê°’ ì„±ê²©ì„ í™•ì •í•˜ëŠ” ê²ƒ</p>\\n</blockquote>\\n<p>Binding ì´ë¼ê³  ë¶€ë¥´ëŠ” ë˜ ë‹¤ë¥¸ ì˜ˆì‹œë“¤ì´ ìˆëŠ”ë°, í•œë²ˆ ì‚´í´ë³´ì.</p>\\n<ol>\\n<li>Computer Programming ì—ì„œ ê°ì¢… ê°’ë“¤ì´ í™•ì •ë˜ì–´ì„œ, ë” ì´ìƒ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ìƒíƒœê°€ ë˜ëŠ”ë°â†’ ì´ ìƒíƒœë¥¼ Binding ìƒíƒœë¼ê³  í•œë‹¤.</li>\\n<li>Program ë‚´ì—ì„œ ë³€ìˆ˜, ë°°ì—´, Label, ì ˆì°¨ ë“±ì˜ ëª…ì¹­â†’ ì‹ë³„ì ( Identifier ) ê°€ ê·¸ ëŒ€ìƒì¸ Memory ì£¼ì†Œ, Data í˜•, ì‹¤ì œ ê°’ìœ¼ë¡œ ë°°ì •ë˜ëŠ” ê²ƒ</li>\\n<li>í”„ë¡œê·¸ë˜ë¨¸ê°€ ì½”ë”©ì„ í•´ì„œ Compile ì„ í•˜ê²Œ ë˜ë©´, í”„ë¡œê·¸ë˜ë¨¸ê°€ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ìƒíƒœê°€ ë˜ëŠ” ê²ƒâ†’ Memory ì— ê°’ì„ í• ë‹¹í•˜ëŠ” ê²ƒ ë˜í•œ Binding ì´ë‹¤.</li>\\n</ol>\\n<p>ìœ„ì™€ ê°™ì€ ëª¨ë“  ê²ƒë“¤ì´ Binding ìœ¼ë¡œ í¬í•¨ì´ ëœë‹¤.\\n( í•œêµ­ë§ë¡œ êµ¬ì†í•˜ë‹¤ ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°–ê³  ìˆëŠ”ë° ë¹„ìŠ·í•œ ëŠë‚Œìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒ ê°™ë‹¤ )</p>\\n<p>ì´ Binding ì—ëŠ” 2ê°€ì§€ì˜ ì¢…ë¥˜ê°€ ìˆë‹¤.</p>\\n<ol>\\n<li>static binding ( ì •ì  ë°”ì¸ë”© )</li>\\n<li>dynamic binding ( ë™ì  ë°”ì¸ë”© )</li>\\n</ol>\\n<p>private, final, static ë©¤ë²„ì— ëŒ€í•´ì„œëŠ” <strong>Static Binding</strong> ì„ ì‚¬ìš©í•˜ëŠ” ë°˜ë©´\\nê°€ìƒ Method ì— ëŒ€í•´ì„œëŠ” Binding ì€ Runtime ê°ì²´ì— ê¸°ë°˜í•˜ì—¬ Runtime ì¤‘ì— ìˆ˜í–‰ì„ í•œë‹¤!</p>\\n<p>Java ì—ì„œëŠ” Method ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ìƒ Method ì´ë‹¤.</p>\\n<ul>\\n<li>ì¶”í›„ì— ê°€ìƒ Method ì— ëŒ€í•´ì„œ ì„¤ëª…ì„ í•˜ê³ ì í•œë‹¤.</li>\\n</ul>\\n<p>Static Binding ì€ ë°”ì¸ë”©ì„ ìœ„í•´ì„œ ìœ í˜• ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê³ , Overload ëœ ë©”ì„œë“œëŠ” Static Binding ì„ ì‚¬ìš©í•œë‹¤.\\nê°™ì€ ì´ë¦„ì˜ Method ê°€ ì—¬ëŸ¬ ê°œ ìˆëŠ” ê²½ìš°ì— ì–´ë–¤ Method ë¥¼ í˜¸ì¶œí•  ì§€ ê²°ì •í•œë‹¤.</p>\\n<p>Dynamic Binding ì€ ë°”ì¸ë”©ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê³ , Override ëœ ë©”ì„œë“œëŠ” Dynamic Binding ì„ ì‚¬ìš©í•˜ì—¬ Runtime ì¤‘ì— í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>\\n<h3 id=\\"static-binding\\" tabindex=\\"-1\\">Static binding <a class=\\"header-anchor\\" href=\\"#static-binding\\" aria-label=\\"Permalink to &quot;Static binding&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>Compiler ê°€ Compile ì‹œì ì— í•´ê²°í•  ìˆ˜ ìˆëŠ” Binding ì€ ì•„ë˜ì˜ ëª…ì¹­ìœ¼ë¡œ ë¶€ë¥¸ë‹¤.</p>\\n<ol>\\n<li>Static binding</li>\\n<li>ì´ˆê¸° Binding</li>\\n</ol>\\n<p>ëª¨ë“  static, private, final method ì˜ binding ì€ Compile ì‹œì ì—ì„œ ì´ë¤„ì§€ê²Œ ì§„ë‹¤.</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// Java Program to Illustrate Static Binding </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// Main class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> NewClass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Static nested inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Class 1 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> superclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Method of inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // Print statement </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">( </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"print() in superclass is called\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Static nested inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Class 2 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> subclass</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> extends</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> superclass { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Method of inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // print statement </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">( </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"print() in subclass is called\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Method of main class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Main driver method </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Creating objects of static inner classes </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // inside main() method </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        superclass A </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> superclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        superclass B </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> subclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Calling method over above objects </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        A.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        B.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>ì˜ˆì‹œë¥¼ ì‚´í´ë³´ê³ ì Reference ì˜ í˜ì´ì§€ì—ì„œ ì˜ˆì‹œ ì½”ë“œë¥¼ ê°€ì ¸ì™”ë‹¤.\\nA ëŠ” ë¶€ëª¨ Class ì˜ Instance ë¥¼ ìƒì„±í•˜ê³  ìˆìœ¼ë©°,\\nB ëŠ” ìì‹ Class ì˜ Instance ë¥¼ ìƒì„±í•˜ê³  ìˆë‹¤.</p>\\n<p>ì´ë•Œ, ì¶œë ¥ì˜ ê²°ê³¼ëŠ” 2ê°œ ë‹¤ superclass ì˜ print ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ìˆëŠ”ë°, ì´ëŠ” print ë©”ì„œë“œê°€ static ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ ìˆëŠ” method ì´ê¸° ë•Œë¬¸ì´ë‹¤.\\nstatic ë©¤ë²„ í˜¹ì€ ë©”ì„œë“œëŠ” Compile ì‹œì ì— í•´ë‹¹ Class ì˜ Memory ê³µê°„ ( Heap ì˜ì—­ ) ì— ì €ì¥ëœë‹¤.</p>\\n<p><code>superclass B = new subclass();</code></p>\\n<p>ìì‹ Class ì˜ Instance ë¼ í•˜ì—¬ë„, ì°¸ì¡° ë³€ìˆ˜ëŠ” ë¶€ëª¨ Class ì˜ Instance ì´ë¯€ë¡œ,\\nprint ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆì„ ì‹œ, ë¶€ëª¨ Class ì˜ static method ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.</p>\\n<h3 id=\\"dynamic-binding\\" tabindex=\\"-1\\">Dynamic Binding <a class=\\"header-anchor\\" href=\\"#dynamic-binding\\" aria-label=\\"Permalink to &quot;Dynamic Binding&quot;\\">&ZeroWidthSpace;</a></h3>\\n<p>ë™ì  ë°”ì¸ë”©ì—ì„œëŠ” Compiler ê°€ í˜¸ì¶œí•  ë©”ì„œë“œë¥¼ ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.\\nâ†’ Compiler ì—ê²Œ ê¶Œí•œì´ ì—†ìŒ!</p>\\n<div class=\\"language-java vp-adaptive-theme\\"><button title=\\"Copy Code\\" class=\\"copy\\"></button><span class=\\"lang\\">java</span><pre class=\\"shiki shiki-themes github-light github-dark vp-code\\" tabindex=\\"0\\" v-pre=\\"\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// Java Program to Illustrate Dynamic Binding </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">// Main class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> GFG</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Static nested inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Class 1 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> superclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Method of inner class 1 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(){ </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // Print statement </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">( </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"print in superclass is called\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Static nested inner class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Class 2 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> class</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> subclass</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> extends</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> superclass { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Method of inner class 2 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        @</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">Override</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">        void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">() { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">            // Print statement </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">            System.out.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">println</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">( </span><span style=\\"--shiki-light:#032F62;--shiki-dark:#9ECBFF\\">\\"print in subclass is called\\"</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">    // Method inside main class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">    public</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> static</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> void</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> main</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">String</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">[] </span><span style=\\"--shiki-light:#E36209;--shiki-dark:#FFAB70\\">args</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">) { </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Creating object of inner class 1 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // with reference to constructor of super class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        superclass A </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> superclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Creating object of inner class 1 </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // with reference to constructor of sub class </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        superclass B </span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\">=</span><span style=\\"--shiki-light:#D73A49;--shiki-dark:#F97583\\"> new</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\"> subclass</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6A737D;--shiki-dark:#6A737D\\">        // Calling print() method over above objects </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        A.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">        B.</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#B392F0\\">print</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">(); </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">    } </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#24292E;--shiki-dark:#E1E4E8\\">}</span></span></code></pre>\\n</div><p>Dynamic Binding ì€ Override ë¥¼ ì˜ˆë¡œ ë“¤ë©´ ì´í•´í•˜ê¸° í¸í•˜ë‹¤.\\nìœ„ì˜ ì˜ˆì œì˜ ì¶œë ¥ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>\\n<p>A ê°™ì€ ê²½ìš°, superclass ì˜ print ë©”ì„œë“œë¥¼\\nB ê°™ì€ ê²½ìš°, subclass ì˜ print ë©”ì„œë“œë¥¼ ì¶œë ¥í•œë‹¤.</p>\\n<p>ì™œ ë‹¤ë¥¼ê¹Œ?\\nê°„ë‹¨í•˜ê²Œ ëŒ€ë‹µí•˜ë©´ <code>@Override</code> ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë³¸ë˜ì˜ ë©”ì„œë“œë¥¼ ìì‹ Class ì— ë§ê²Œ ë³€í˜•í–ˆê¸° ë•Œë¬¸ì´ë¼ê³  ë§í•  ìˆ˜ ìˆë‹¤.\\nê·¸ë¦¬ê³  static method ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, Class ì˜ ì •ë³´ê°€ ì•„ë‹Œ Instance ì˜ ì •ë³´ë¡œ ë‹¤ë¤„ì§€ê³  ìˆê¸°ë„ í•˜ë‹¤.</p>\\n<p>Compile í•˜ëŠ” ê³¼ì •ì—ì„œ Compiler ëŠ” ê°ì²´ì˜ Type ì´ ì•„ë‹Œ ì°¸ì¡° ë³€ìˆ˜ë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ ê²ƒì„ Print í•´ì•¼ë ì§€ ëª¨ë¥´ëŠ” ìƒí™©ì´ ì˜¨ë‹¤.\\nì´ ìƒí™©ì´ Runtime ê¹Œì§€ ì§€ì†ë˜ë©°, Runtime ê³¼ì •ì—ì„œ ê°ì²´ì˜ Type ì— ë”°ë¼ Method ê°€ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ìì‹ Class ì˜ Method ê°€ í˜¸ì¶œëœ ê²ƒì´ë‹¤!</p>\\n<h2 id=\\"static-binding-vs-dynamic-binding\\" tabindex=\\"-1\\">Static Binding vs. Dynamic Binding <a class=\\"header-anchor\\" href=\\"#static-binding-vs-dynamic-binding\\" aria-label=\\"Permalink to &quot;Static Binding vs. Dynamic Binding&quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>ì—¬ê¸°ì„œë¶€í„° í•„ìì˜ ìƒê°ì´ ì¡°ê¸ˆ ë…¹ì•„ë“¤ì–´ìˆëŠ” ë¶€ë¶„ì¸ë°,\\nì„±ëŠ¥ ë©´ì—ì„œëŠ” static binding ì´ ì¢‹ë‹¤ê³  ìƒê°ì´ ë“ ë‹¤.\\në”°ë¡œ Overhead ë„ ìƒê¸°ì§€ ì•Šê¸° ë•Œë¬¸ì´ê¸°ë„ í•¨..</p>\\n<p>Compiler ë„ ì´ëŸ¬í•œ ë©”ì„œë“œê°€ Override ë  ìˆ˜ ì—†ê³ , í•­ìƒ Local Class ì˜ ê°ì²´ì— ì˜í•´ì„œ ì ‘ê·¼í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ìˆìœ¼ë©´, Class ê°ì²´ì˜ ì •ë³´ë¥¼ íŒŒì•…í•˜ëŠ”ë°ì— ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤!\\ní•˜ì§€ë§Œ ì´ ë§ì´ ëª¨ë“  ìƒí™©ì—ì„œ static ì„ ë¶™ì´ê³ , í•˜ë¼ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.</p>\\n<p>ë™ì  Binding ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, ë¶ˆíŠ¹ì • ê°ì²´ê°€ ë“¤ì–´ì˜¬ ì§€ ëª¨ë¥´ëŠ” ìƒí™©ì´ ìˆì„ ìˆ˜ ìˆëŠ”ë°, í•´ë‹¹ ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ Runtime ì—ì„œ Binding í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ ìì²´ê°€ ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ì´ë“ì´ë¼ê³  ìƒê°ì´ ë“¤ê¸° ë•Œë¬¸ì´ë‹¤.</p>\\n<h2 id=\\"á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" tabindex=\\"-1\\">ëŠë‚€ ì  <a class=\\"header-anchor\\" href=\\"#á„‚á…³á„á…µá†«-á„Œá…¥á†·\\" aria-label=\\"Permalink to &quot;ëŠë‚€ ì &quot;\\">&ZeroWidthSpace;</a></h2>\\n<p>Java ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ë¥¼ ì •í™•íˆ íŒŒì•…ì„ ëª»í•˜ì—¬, ì˜¤ëŠ˜ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë©”ëª¨ë¦¬ ë¶€ë¶„ì„ ë‚´ê°€ ê·¸ë ¤ì„œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìœ¼ë©´ ë” ì¢‹ì€ í¬ìŠ¤íŒ…ì´ ë˜ì§€ ì•Šì•˜ì„ê¹Œ ì‹¶ì–´, ì§€ê¸ˆë¶€í„° ë©”ëª¨ë¦¬ ë¶€ë¶„ ê³µë¶€í•˜ëŸ¬ ê°€ë ¤ê³  í•œë‹¤..\\nì£¼ë§ì¸ë°, ë‚ ì”¨ë„ ì¢‹ê³ , ê·¸ëƒ¥ ë‚˜ê°€ì„œ ì½”ë”©í• ê¹Œí•˜ë‹¤ê°€ ì—ì–´ì»¨ ë°”ëŒì´ ë„ˆë¬´ ì‹œì›í•´ì„œ ì§‘ì—ì„œ í¬ìŠ¤íŒ…ì„ ëë§ˆì¹œë‹¤.</p>\\n","frontmatter":{"title":"Binding","description":"ì •ì  ë°”ì¸ë”©(Static Binding)ê³¼ ë™ì  ë°”ì¸ë”©(Dynamic Binding)ì˜ ì°¨ì´ì™€ ê°œë…","date":"2025-12-01T05:08:00.000Z","categories":["CS"],"tags":["Java","Korean","Binding","Reflection"]},"excerpt":"","url":"/posts/java-binding/"}]`);export{J as P,z as d};
