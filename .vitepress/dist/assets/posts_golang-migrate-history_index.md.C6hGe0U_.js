import{_ as i,c as a,o as n,af as t}from"./chunks/framework.CBg6nt2o.js";const d=JSON.parse('{"title":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜","description":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜ MySQL","frontmatter":{"title":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜","description":"Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜ MySQL","date":"2026-01-14T03:35:00.000Z","categories":["Tech"],"tags":["Go","MySQL","DB","Migrate","Japanese"]},"headers":[],"relativePath":"posts/golang-migrate-history/index.md","filePath":"posts/golang-migrate-history/index.md"}'),h={name:"posts/golang-migrate-history/index.md"};function k(l,s,p,e,E,r){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚™ãƒ¼ã‚¿ãƒ˜ã‚™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜" tabindex="-1">Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜ <a class="header-anchor" href="#golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ†ã‚™ãƒ¼ã‚¿ãƒ˜ã‚™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜" aria-label="Permalink to &quot;Golang-migrateã‚’åˆ©ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ’ã‚¹ãƒˆãƒªãƒ¼ä¿å­˜&quot;">â€‹</a></h1><h2 id="æ¦‚è¦" tabindex="-1">æ¦‚è¦ <a class="header-anchor" href="#æ¦‚è¦" aria-label="Permalink to &quot;æ¦‚è¦&quot;">â€‹</a></h2><p>é–‹ç™ºã‚’ã—ãªãŒã‚‰ã€Domain Schemaã«å¯¾ã—ã¦ä¿®æ­£ãŒå…¥ã‚‹æ™‚ã«Table Schemaå¤‰æ›´ãŒèµ·ãã‚‹çŠ¶æ³ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ Test Fileã§ã¯ã‚ˆãä½œå‹•ã§ãã¾ã™ãŒã€æœ¬ç•ªDBã®æ™‚ã«ã¯å‹æ‰‹ã«Table Schemaã‚’å¤‰æ›´ã§ããªã„ã®ã§DB Migrationã‚’å°å…¥ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚ ä¸€å›ãƒ‡ãƒ¼ã‚¿ã‚’æŒã£ã¦ã„ã‚‹çŠ¶æ³ã§ã®Table Schemaå¤‰æ›´ã¯ãƒªã‚¹ã‚¯ãŒé«˜ãé™ç•ŒãŒã‚ã‚‹ã¨æ„Ÿã˜ãŸã‹ã‚‰ã§ã™ã€‚ ãªã®ã§DBã«å¯¾ã—ã¦Versionç®¡ç†ã‚’ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚</p><h2 id="å†…å®¹" tabindex="-1">å†…å®¹ <a class="header-anchor" href="#å†…å®¹" aria-label="Permalink to &quot;å†…å®¹&quot;">â€‹</a></h2><p>ç¾åœ¨è‡ªåˆ†ãŒå€‹äººé–‹ç™ºã—ã¦ã„ã‚‹ã€ŒGAMERSã€ã¯Goã€DiscordGo Libraryã‚’åˆ©ç”¨ã—ã¦ã€ãƒœãƒƒãƒˆã¨WASã¨ã®Micro Service Architectureå½¢ã§æŒ‘æˆ¦ã—ã¦ã¾ã™ã€‚ ã“ã“ã§Goã§ã®Migrationã¯golang-migrateã®migrate Libraryã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚ é–‹ç™ºã‚’é€²ã¿ãªãŒã‚‰ã€è‡ªåˆ†ã®ãƒŸã‚¹ã§Passwordã®ã‚¹ã‚­ãƒ¼ãƒæ¡ä»¶ãŒVARCHAR(16)ã¨ã—ã¦è¨­å®šã•ã‚Œã€æš—å·åŒ–ã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¿å­˜ã§ããªã„çŠ¶æ³ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤ã—ã¦ã‚‚ã†ä¸€åº¦ä½œã‚‹ã®ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€æœ¬ç•ªDBãŒã‚ã£ãŸã®ã§ãã®DBã‚‚å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ ãªã®ã§ã“ã‚Œã‚’Version 2ã¨ã—ã¦å¤‰æ›´äº‹é …ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ golangã®migrateã¯Flywayã¨é•ã£ã¦ã€Versionã¥ã¤ Up, Down SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒã€è‡ªåˆ†ã¨ã—ã¦ã©ã†ã‚„ã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚„ã€ãƒ€ã‚¦ãƒ³ã•ã‚Œã‚‹ã®ã‹ã™ãè¦‹ãˆã¦ç†è§£ã—ã‚„ã™ã‹ã£ãŸã§ã™ã€‚ å¾Œã§ã¯Makefileã§DB Versionç®¡ç†ã«åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€ä»Šå¾Œãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒå…¥ã£ã¦ããŸæ™‚ä¾¿åˆ©ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†æ›¸é¡åŒ–ã—ã¾ã—ãŸã€‚</p><div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Run all pending migrations</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;ğŸ”„ Running migrations...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; up</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-down</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Rollback last migration</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;âª Rolling back last migration...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; down 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-down-all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Rollback all migrations</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;âª Rolling back all migrations...&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">read -p &quot;Are you sure? [y/N] &quot; -n 1 -r; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	echo; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	if [[ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REPLY =~ ^[Yy]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]]; then </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; down -all; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Create new migration (usage: make migrate-create name=create_users_table)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">if [ -z &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; ]; then </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		echo &quot;âŒ Error: name parameter is required&quot;; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		echo &quot;Usage: make migrate-create name=create_users_table&quot;; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		exit 1; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;ğŸ“ Creating migration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate create -ext sql -dir </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -seq </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Show current migration version</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-force</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Force set migration version (usage: make migrate-force version=1)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">if [ -z &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; ]; then </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		echo &quot;âŒ Error: version parameter is required&quot;; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		echo &quot;Usage: make migrate-force version=1&quot;; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		exit 1; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	fi</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;âš ï¸ Forcing migration version to </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; force </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-up-docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Run migrations in Docker environment</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;ğŸ”„ Running migrations (Docker)...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; up</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-down-docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Rollback migration in Docker environment</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">echo &quot;âª Rolling back migration (Docker)...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; down 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">migrate-version-docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## Show migration version in Docker</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">migrate -path </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIGRATIONS_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -database &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot; version</span></span></code></pre></div><p>è‡ªåˆ†ã¯ä»Šç¾åœ¨Dockerfileã§Deployã—ã¦ã„ã¾ã™ã®ã§Dockerã‚’é€šã˜ã¦MigrateãŒã§ãã‚‹ã‚ˆã†ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ã¨ãã¾ã—ãŸã€‚ æœ€å¾Œã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸå¾Œã®çµæœã€ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚ŒãŸã®ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p><h2 id="çµè«–" tabindex="-1">çµè«– <a class="header-anchor" href="#çµè«–" aria-label="Permalink to &quot;çµè«–&quot;">â€‹</a></h2><p>å®Ÿéš›æœ¬ç•ªDBã«ä½¿ã†ãŸã‚ã«Migrateã‚’é©ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸãŒã€Migrateã‚’çŸ¥ã‚‹å‰ã¾ã§ã¯æœ¬ç•ªDBã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¤‰ãˆã‚‹æ™‚ãŒå¤šã‹ã£ãŸã®ã§ã™ã€‚ ã ãŒéŸ“å›½ã®å¤§å­¦ã§GDGoCæ´»å‹•ã‚’ã‚„ã‚ŠãªãŒã‚‰ã“ã®ã‚ˆã†ãªè¡Œç‚ºãŒå±ãªã„ã“ã¨ãªã®ã‚’èªçŸ¥ã—ã¦åˆã‚ã¦å°å…¥ã—ã¦ã¿ã¾ã—ãŸãŒã€é–‹ç™ºã™ã‚‹æ™‚ã‚‚ä¾¿åˆ©ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ†åˆ¥ã™ã‚‹ã“ã¨ãŒã§ãã¦æ¥½ã«é–‹ç™ºãŒã§ãã¾ã—ãŸã€‚ ä»Šã¾ã§ã¯ç°¡å˜ãªMigrateã ã‘ã§ã—ãŸãŒã€ã‚‚ã£ã¨ã‚µãƒ¼ãƒ“ã‚¹ãŒå¤§ãããªã£ã¦ä¿®æ­£äº‹é …ãŒå¤šããªã£ãŸæ™‚ã«ã©ã†ã‚„ã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆ†ã‘ã‚‹ã®ã‹ã‚’å‹‰å¼·ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚</p>`,9)])])}const o=i(h,[["render",k]]);export{d as __pageData,o as default};
